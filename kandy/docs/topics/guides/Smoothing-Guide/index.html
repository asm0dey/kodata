
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Smoothing - My Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.50c56a3b.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Smoothing - My Docs" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="./assets/images/social/kandy/docs/topics/guides/Smoothing-Guide.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="None" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Smoothing - My Docs" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="./assets/images/social/kandy/docs/topics/guides/Smoothing-Guide.png" >
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#smoothing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="My Docs" class="md-header__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Smoothing
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../dataforge-core/" class="md-tabs__link">
          
  
  Data Wrangling

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../kotlindl/" class="md-tabs__link">
          
  
  ML

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../kotlingrad/" class="md-tabs__link">
          
  
  Math

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../kaliningraph/" class="md-tabs__link">
          
  
  Plots

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../kalasim/" class="md-tabs__link">
          
  
  Other

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="My Docs" class="md-nav__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    My Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Data Wrangling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Data Wrangling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../dataforge-core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dataforge-core
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../controls-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Controls.kt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kotlin-spark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin for Apache® Spark™
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../dataframe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin DataFrame
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../tables-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tables.kt
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    ML
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            ML
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kotlindl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kotlindl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../londogard-nlp-toolkit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    londogard-nlp-toolkit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../summarize-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    summarize-kt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../text-gen-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    text-gen-kt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../smile-nlp-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    smile-nlp-kt
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Math
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Math
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kotlingrad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin∇
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kmath/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kmath
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../multik/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    multik
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Plots
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Plots
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kaliningraph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kaliningraph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kandy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kotlingrad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin∇
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kravis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kravis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../lets-plot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lets-Plot Kotlin API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../plotly-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    plotly.kt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../visionforge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DataForge Visualization Platform
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Other
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Other
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kalasim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kalasim
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kotlin-jupyter/docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin Kernel for IPython/Jupyter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../snark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    snark
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Arguments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generalized-signature" class="md-nav__link">
    <span class="md-ellipsis">
      Generalized signature
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output-statistics" class="md-nav__link">
    <span class="md-ellipsis">
      Output statistics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statsmooth-plots" class="md-nav__link">
    <span class="md-ellipsis">
      StatSmooth plots
    </span>
  </a>
  
    <nav class="md-nav" aria-label="StatSmooth plots">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#statsmooth-transform" class="md-nav__link">
    <span class="md-ellipsis">
      statSmooth transform
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smoothline-layer" class="md-nav__link">
    <span class="md-ellipsis">
      smoothLine layer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grouped-statsmooth" class="md-nav__link">
    <span class="md-ellipsis">
      Grouped statSmooth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Grouped statSmooth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inside-groupby-plot-context" class="md-nav__link">
    <span class="md-ellipsis">
      Inside groupBy{} plot context
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="smoothing">Smoothing</h1>
<p><web-summary>
Become proficient in data smoothing with Kandy's 'Smoothing' guide.
Explore methods to improve data visualization by lessening the noise and emphasizing trends
</web-summary></p>
<p><card-summary>
Kandy's 'Smoothing' guide demystifies the process of smoothing data.
Learn how to refine your visualizations for clearer insights.
</card-summary></p>
<p><link-summary>
Explore Kandy's 'Smoothing' guide for advanced data visualization techniques.
Understand how smoothing can elevate your plots by emphasizing underlying patterns.
</link-summary></p>
<!---IMPORT org.jetbrains.kotlinx.kandy.letsplot.samples.guides.Smoothing-->

<p>Statistics "smooth" are calculated on the sample of two continuous variables (i.e., sample of points or lines).
It interpolates data points to create a smoother curve.</p>
<p>This notebook uses definitions from <a href="https://kotlin.github.io/dataframe/overview.html">DataFrame</a>.</p>
<h2 id="usage">Usage</h2>
<p>The "Smooth" statistic proves beneficial in scenarios with over-plotting or noise,
simplifying the process of identifying inherent trends and patterns.
It can also be used to make a more pretty line with a small number of points.</p>
<h2 id="arguments">Arguments</h2>
<ul>
<li>Input (mandatory):<ul>
<li><code>x</code> — numeric sample of input points <code>x</code> coordinates</li>
<li><code>y</code> — numeric sample of input points <code>y</code> coordinates</li>
</ul>
</li>
<li>Parameters (optional):<ul>
<li><code>method: SmoothMethod</code> — smoothing model:<ul>
<li><code>SmoothMethod.Linear(confidenceLevel: Double)</code> — linear model</li>
<li><code>SmoothMethod.Polynomial(degree: Int, confidenceLevel: Double)</code> — polynomial model</li>
<li><code>SmoothMethod.LOESS(span: Double, loessCriticalSize: Int, samplingSeed: Long, confidenceLevel: Double)</code> —
  Local Polynomial Regression model</li>
</ul>
</li>
<li><code>smootherPointCount: Int</code> — number of sampled points</li>
</ul>
</li>
</ul>
<h3 id="generalized-signature">Generalized signature</h3>
<p>The specific signature depends on the function,
but all functions related to "smooth" statistic (which will be discussed further below —
different variations of <code>statSmooth()</code>, <code>smoothLine()</code>) have approximately the same signature with the arguments above:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>statSmoothArgs := 
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>   x, 
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>   y,
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>   method: SmoothMethod = SmoothMethod.LOESS(),
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>   smootherPointCount: Int = 100
</code></pre></div></td></tr></table></div>
<p>The possible types of <code>x</code> and <code>y</code> depend on where a certain function is used.
They can be simply <code>Iterable</code> (<code>List</code>, <code>Set</code>, etc.) or a reference to a column in a <code>DataFrame</code>
(<code>String</code>, <code>ColumnAccessor</code>) or the <code>DataColumn</code> itself.</p>
<h2 id="output-statistics">Output statistics</h2>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Stat.x</td>
<td>Double</td>
<td><code>x</code> coordinate</td>
</tr>
<tr>
<td>Stat.y</td>
<td>Double</td>
<td><code>y</code> coordinate</td>
</tr>
<tr>
<td>Stat.yMin</td>
<td>Double</td>
<td>Lower point-wise confidence interval around the mean</td>
</tr>
<tr>
<td>Stat.yMax</td>
<td>Double</td>
<td>Upper point-wise confidence interval around the mean</td>
</tr>
<tr>
<td>Stat.se</td>
<td>Double</td>
<td>Standard error</td>
</tr>
</tbody>
</table>
<h2 id="statsmooth-plots">StatSmooth plots</h2>
<!---FUN guideSmoothGenerateData-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1">// To generate the data, we use a standard java math library</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="c1">// https://commons.apache.org/proper/commons-math/</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="c1">// Generate line with formula</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="kd">val</span><span class="w"> </span><span class="nv">xs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="m">100.</span><span class="p">.</span><span class="m">100</span><span class="p">).</span><span class="na">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">50.0</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="kd">val</span><span class="w"> </span><span class="nv">lineFormula</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="m">2.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">0.5</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="c1">// Generate noises from normal distribution</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="kd">val</span><span class="w"> </span><span class="nv">noises</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NormalDistribution</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span><span class="w"> </span><span class="m">0.1</span><span class="p">).</span><span class="na">sample</span><span class="p">(</span><span class="n">xs</span><span class="p">.</span><span class="na">size</span><span class="p">).</span><span class="na">toList</span><span class="p">()</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="kd">val</span><span class="w"> </span><span class="nv">ys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xs</span><span class="p">.</span><span class="na">zip</span><span class="p">(</span><span class="n">noises</span><span class="p">).</span><span class="na">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">lineFormula</span><span class="p">(</span><span class="nb">it</span><span class="p">.</span><span class="na">first</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">second</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="c1">// And drop 2/3 points</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="kd">val</span><span class="w"> </span><span class="nv">random</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Random</span><span class="p">(</span><span class="m">42</span><span class="p">)</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="kd">val</span><span class="w"> </span><span class="p">(</span><span class="nv">newXs</span><span class="p">,</span><span class="w"> </span><span class="nv">newYs</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xs</span><span class="p">.</span><span class="na">zip</span><span class="p">(</span><span class="n">ys</span><span class="p">).</span><span class="na">shuffled</span><span class="p">(</span><span class="n">random</span><span class="p">).</span><span class="na">take</span><span class="p">(</span><span class="n">xs</span><span class="p">.</span><span class="na">size</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">3</span><span class="p">).</span><span class="na">sortedBy</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">first</span><span class="w"> </span><span class="p">}.</span><span class="na">unzip</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<!---FUN guideSmoothGatherIntoDF-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span>
<span class="normal"><a href="#__codelineno-2-4">4</a></span>
<span class="normal"><a href="#__codelineno-2-5">5</a></span>
<span class="normal"><a href="#__codelineno-2-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="c1">// Gather them into the DataFrame</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="kd">val</span><span class="w"> </span><span class="nv">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dataFrameOf</span><span class="p">(</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span><span class="s">&quot;speed&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">newXs</span><span class="p">,</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">    </span><span class="s">&quot;efficiency&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">newYs</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="p">)</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="n">df</span><span class="p">.</span><span class="na">head</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<table>
<thead>
<tr>
<th>speed</th>
<th>efficiency</th>
</tr>
</thead>
<tbody>
<tr>
<td>-2.00</td>
<td>0.500380</td>
</tr>
<tr>
<td>-1.92</td>
<td>0.459302</td>
</tr>
<tr>
<td>-1.84</td>
<td>0.636746</td>
</tr>
<tr>
<td>-1.78</td>
<td>0.623408</td>
</tr>
<tr>
<td>-1.68</td>
<td>0.839757</td>
</tr>
</tbody>
</table>
<p><code>df</code> has a signature</p>
<table>
<thead>
<tr>
<th>speed</th>
<th>efficiency</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Let's take a look at <code>StatSmooth</code> output DataFrame:</p>
<!---FUN guideSmoothDfStatSmooth-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="n">df</span><span class="p">.</span><span class="na">statSmooth</span><span class="p">(</span><span class="s">&quot;speed&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;efficiency&quot;</span><span class="p">).</span><span class="na">head</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<table>
<tr><td><b>Stat</b></td></tr>
<tr><td><table>
<tr><td>x</td><td>y</td><td>yMin</td><td>yMax</td><td>se</td></tr>
<tr><td>-2</td><td>0.197</td><td>-0.006</td><td>0.401</td><td>0.102</td></tr>
<tr><td>-1.96</td><td>0.247</td><td>0.047</td><td>0.447</td><td>0.1</td></tr>
<tr><td>-1.919</td><td>0.297</td><td>0.1</td><td>0.493</td><td>0.099</td></tr>
<tr><td>-1.879</td><td>0.347</td><td>0.153</td><td>0.54</td><td>0.097</td></tr>
<tr><td>-1.838</td><td>0.397</td><td>0.206</td><td>0.588</td><td>0.096</td></tr>
</table></td></tr>
</table>

<p>It has the following signature:</p>
<table>
  <thead>
    <tr>
      <th alignt="left" colspan="5">Stat</th>
    </tr>
  </thead>
  <thead>
    <tr>
      <th>x</th>
      <th>y</th>
      <th>yMin</th>
      <th>yMax</th>
      <th>se</th>
    </tr>
  </thead>
</table>

<p>As you can see, we got a <code>DataFrame</code> with one <code>ColumnGroup</code> called <code>Stat</code> which contains several columns with statics.
For <code>statSmooth</code>, each row corresponds to one of the line points.
<code>Stat.x</code> is the column with this point <code>x</code> coordinate.
<code>Stat.y</code> is points <code>y</code> coordinate; <code>Stat.yMin</code> — lower point of confidence level.
<code>Stat.yMax</code> — upper point of confidence level.
<code>Stat.se</code> — standard error.</p>
<p><code>DataFrame</code> with "smooth" statistics is called <code>StatSmoothFrame</code></p>
<h3 id="statsmooth-transform"><code>statSmooth</code> transform</h3>
<p><code>statSmooth(statSmoothArgs) { /*new plotting context*/ }</code> modifies a plotting context —
instead of original data (no matter was it empty or not) new <code>StatSmooth</code> dataset
(calculated on given arguments. Inputs can be provided as <code>Iterable</code> or as dataset column reference —
by name as a <code>String</code>, as a <code>ColumnReference</code> or as a <code>DataColumn</code>) is used inside a new context
(original dataset and primary context are not affected —
you can add layers using initial dataset outside the <code>statSmooth</code> context).
Since the old dataset is irrelevant, we cannot use references for its columns.
But we can refer to the new ones.
They are all contained in the <code>Stat</code> group and can be called inside the new context:</p>
<!---FUN guideSmoothPlotWithAreaAndPoints-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="n">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="w">    </span><span class="n">statSmooth</span><span class="p">(</span><span class="n">newXs</span><span class="p">,</span><span class="w"> </span><span class="n">newYs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">        </span><span class="c1">// new `StatSmooth` dataset here</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">        </span><span class="n">area</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">            </span><span class="c1">// use `Stat.*` columns for mappings</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">            </span><span class="n">x</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">x</span><span class="p">)</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">            </span><span class="n">y</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">y</span><span class="p">)</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="w">    </span><span class="n">points</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="w">        </span><span class="n">x</span><span class="p">(</span><span class="n">newXs</span><span class="p">)</span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="w">        </span><span class="n">y</span><span class="p">(</span><span class="n">newYs</span><span class="p">)</span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="StatSmooth Area and Points Plot" src="guideSmoothPlotWithAreaAndPoints.svg" /></p>
<!---FUN guideSmoothPlotWithRibbonAndPoints-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="n">df</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">    </span><span class="n">statSmooth</span><span class="p">(</span><span class="n">speed</span><span class="p">,</span><span class="w"> </span><span class="n">efficiency</span><span class="p">,</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SmoothMethod</span><span class="p">.</span><span class="na">Polynomial</span><span class="p">(</span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="n">smootherPointCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">250</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">        </span><span class="n">ribbon</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">            </span><span class="n">x</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">x</span><span class="p">)</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">            </span><span class="n">yMin</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">yMin</span><span class="p">)</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">            </span><span class="n">yMax</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">yMax</span><span class="p">)</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="w">    </span><span class="c1">// Dataset is not changed here</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="w">    </span><span class="n">points</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="w">        </span><span class="n">x</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="w">        </span><span class="n">y</span><span class="p">(</span><span class="n">efficiency</span><span class="p">)</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="StatSmooth Ribbon and Points Plot" src="guideSmoothPlotWithRibbonAndPoints.svg" /></p>
<h3 id="smoothline-layer"><code>smoothLine</code> layer</h3>
<p><code>smoothLine</code> layer is a shortcut for fast plotting a smoothed line:</p>
<!---FUN guideSmoothLineLayer-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span>
<span class="normal"><a href="#__codelineno-6-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kd">val</span><span class="w"> </span><span class="nv">smoothLineLayerPlot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">    </span><span class="n">smoothLine</span><span class="p">(</span><span class="n">newXs</span><span class="p">,</span><span class="w"> </span><span class="n">newYs</span><span class="p">)</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">    </span><span class="n">layout</span><span class="p">.</span><span class="na">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;`smoothLine()` layer&quot;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="p">}</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="n">smoothLineLayerPlot</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="SmoothLine Shortcut" src="guideSmoothLineLayer.svg" /></p>
<!---FUN guideSmoothCompareLineAndSmoothLine-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="c1">// Compare it with `statSmooth` + usual `line`</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="kd">val</span><span class="w"> </span><span class="nv">statSmoothAndLinePlot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">    </span><span class="n">statSmooth</span><span class="p">(</span><span class="n">newXs</span><span class="p">,</span><span class="w"> </span><span class="n">newYs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">        </span><span class="n">line</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">            </span><span class="n">x</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">x</span><span class="p">)</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">            </span><span class="n">y</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">y</span><span class="p">)</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="w">    </span><span class="n">layout</span><span class="p">.</span><span class="na">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;`statSmooth()` + non-statistical `line` layer&quot;</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="p">}</span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="n">plotGrid</span><span class="p">(</span><span class="n">listOf</span><span class="p">(</span><span class="n">smoothLineLayerPlot</span><span class="p">,</span><span class="w"> </span><span class="n">statSmoothAndLinePlot</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="Compare SmoothLine and StatSmooth Line Plots" src="guideSmoothCompareLineAndSmoothLine.svg" /></p>
<p><code>smoothLine</code> uses <code>statSmooth</code> and <code>line</code> and performs coordinate mappings under the hood.
And we can customize <code>smoothLine</code> layer: <code>smoothLine()</code> optionally opens a new context,
where we can configure the line (as in the usual context opened by <code>line { ... }</code>) —
even change coordinate mappings from default ones.
<code>StatSmooth</code> dataset of <code>smoothLine</code> is also can be accessed here.</p>
<!---FUN guideSmoothSmoothLineWithPoints-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="n">df</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="w">    </span><span class="n">smoothLine</span><span class="p">(</span><span class="n">speed</span><span class="p">,</span><span class="w"> </span><span class="n">efficiency</span><span class="p">,</span><span class="w"> </span><span class="n">SmoothMethod</span><span class="p">.</span><span class="na">LOESS</span><span class="p">(</span><span class="n">span</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.1</span><span class="p">),</span><span class="w"> </span><span class="m">120</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">        </span><span class="c1">// change a column mapped on `y` to `Stat.scaled`</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">        </span><span class="n">y</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">yMax</span><span class="p">)</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">        </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">RED</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="w">        </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4.0</span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="w">    </span><span class="n">points</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="w">        </span><span class="n">x</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="w">        </span><span class="n">y</span><span class="p">(</span><span class="n">efficiency</span><span class="p">)</span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="SmoothLine with mapped y-axis" src="guideSmoothSmoothLineWithPoints.svg" /></p>
<h2 id="grouped-statsmooth">Grouped <code>statSmooth</code></h2>
<p><code>statSmooth</code> can be applied for grouped data —
statistics will be calculated on each group independently but with equal categories.
This application returns a new <code>GroupBy</code>
dataset with the same keys as the old one but with <code>StatSmooth</code> groups instead of old ones.</p>
<!---FUN guideSmoothGroupedData-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-9-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-9-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-9-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-9-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-9-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-9-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-9-10">10</a></span>
<span class="normal"><a href="#__codelineno-9-11">11</a></span>
<span class="normal"><a href="#__codelineno-9-12">12</a></span>
<span class="normal"><a href="#__codelineno-9-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="c1">// Generate two lines</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="kd">val</span><span class="w"> </span><span class="nv">fA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="m">0.02</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">0.2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">0.1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">2.1</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="kd">val</span><span class="w"> </span><span class="nv">fB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">-</span><span class="m">0.1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">0.5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">0.8</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="kd">val</span><span class="w"> </span><span class="nv">xRange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="m">500.</span><span class="p">.</span><span class="m">500</span><span class="p">).</span><span class="na">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">100.0</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="kd">val</span><span class="w"> </span><span class="nv">noisesA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NormalDistribution</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span><span class="w"> </span><span class="m">0.05</span><span class="p">).</span><span class="na">sample</span><span class="p">(</span><span class="n">xRange</span><span class="p">.</span><span class="na">size</span><span class="p">).</span><span class="na">toList</span><span class="p">()</span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="kd">val</span><span class="w"> </span><span class="nv">noisesB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NormalDistribution</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span><span class="w"> </span><span class="m">0.2</span><span class="p">).</span><span class="na">sample</span><span class="p">(</span><span class="n">xRange</span><span class="p">.</span><span class="na">size</span><span class="p">).</span><span class="na">toList</span><span class="p">()</span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="kd">val</span><span class="w"> </span><span class="nv">valuesA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xRange</span><span class="p">.</span><span class="na">zip</span><span class="p">(</span><span class="n">noisesA</span><span class="p">).</span><span class="na">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">fA</span><span class="p">(</span><span class="nb">it</span><span class="p">.</span><span class="na">first</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">second</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="kd">val</span><span class="w"> </span><span class="nv">valuesB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xRange</span><span class="p">.</span><span class="na">zip</span><span class="p">(</span><span class="n">noisesB</span><span class="p">).</span><span class="na">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">fB</span><span class="p">(</span><span class="nb">it</span><span class="p">.</span><span class="na">first</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">second</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-9-9" name="__codelineno-9-9"></a>
<a id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="kd">val</span><span class="w"> </span><span class="p">(</span><span class="nv">xsA</span><span class="p">,</span><span class="w"> </span><span class="nv">ysA</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xRange</span><span class="p">.</span><span class="na">zip</span><span class="p">(</span><span class="n">valuesA</span><span class="p">).</span><span class="na">shuffled</span><span class="p">(</span><span class="n">Random</span><span class="p">(</span><span class="m">17</span><span class="p">)).</span><span class="na">take</span><span class="p">(</span><span class="n">xRange</span><span class="p">.</span><span class="na">size</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">3</span><span class="p">).</span><span class="na">sortedBy</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">first</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="w">    </span><span class="p">.</span><span class="na">unzip</span><span class="p">()</span>
<a id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="kd">val</span><span class="w"> </span><span class="p">(</span><span class="nv">xsB</span><span class="p">,</span><span class="w"> </span><span class="nv">ysB</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xRange</span><span class="p">.</span><span class="na">zip</span><span class="p">(</span><span class="n">valuesB</span><span class="p">).</span><span class="na">shuffled</span><span class="p">(</span><span class="n">Random</span><span class="p">(</span><span class="m">17</span><span class="p">)).</span><span class="na">take</span><span class="p">(</span><span class="n">xRange</span><span class="p">.</span><span class="na">size</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">3</span><span class="p">).</span><span class="na">sortedBy</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">first</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-9-13" name="__codelineno-9-13"></a><span class="w">    </span><span class="p">.</span><span class="na">unzip</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<!---FUN guideSmoothGatherGroupedDataIntoDF-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span>
<span class="normal"><a href="#__codelineno-10-5">5</a></span>
<span class="normal"><a href="#__codelineno-10-6">6</a></span>
<span class="normal"><a href="#__codelineno-10-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="c1">// Gather them into `DataFrame` with &quot;A&quot; and &quot;B&quot; keys in &quot;category&quot; column</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="kd">val</span><span class="w"> </span><span class="nv">valuesDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dataFrameOf</span><span class="p">(</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">    </span><span class="s">&quot;time&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">xsA</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">xsB</span><span class="p">,</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">    </span><span class="s">&quot;value&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">ysA</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">ysB</span><span class="p">,</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="w">    </span><span class="s">&quot;category&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="n">xsA</span><span class="p">.</span><span class="na">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;A&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="n">xsB</span><span class="p">.</span><span class="na">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;B&quot;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="p">)</span>
<a id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="n">valuesDF</span><span class="p">.</span><span class="na">head</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<table>
<thead>
<tr>
<th>time</th>
<th>value</th>
<th>category</th>
</tr>
</thead>
<tbody>
<tr>
<td>-4.96</td>
<td>-5.735</td>
<td>A</td>
</tr>
<tr>
<td>-4.89</td>
<td>-5.57</td>
<td>A</td>
</tr>
<tr>
<td>-4.87</td>
<td>-5.384</td>
<td>A</td>
</tr>
<tr>
<td>-4.84</td>
<td>-5.261</td>
<td>A</td>
</tr>
<tr>
<td>-4.83</td>
<td>-5.333</td>
<td>A</td>
</tr>
</tbody>
</table>
<p>It has the following signature:</p>
<table>
<thead>
<tr>
<th>time</th>
<th>value</th>
<th>category</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<!---FUN guideSmoothGroupingDf-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="c1">// Group it by &quot;category&quot;</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="kd">val</span><span class="w"> </span><span class="nv">groupedDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">valuesDF</span><span class="p">.</span><span class="na">groupBy</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">category</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="n">groupedDF</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<table>
<tr><td>category</td><td>group</td></tr>
<tr><td>A</td>
<td><table>
<tr><td>time</td><td>value</td><td>category</td></tr>
<tr><td>-4.96</td><td>-5.69</td><td>A</td></tr>
<tr><td>-4.89</td><td>-5.449</td><td>A</td></tr>
<tr><td>-4.87</td><td>-5.509</td><td>A</td></tr>
<tr><td>-4.84</td><td>-5.377</td><td>A</td></tr>
<tr><td>-4.83</td><td>-5.265</td><td>A</td></tr>
</table></td>
</tr>
<tr><td>B</td>
<td><table>
<tr><td>time</td><td>value</td><td>category</td></tr>
<tr><td>-4.96</td><td>23.806</td><td>B</td></tr>
<tr><td>-4.89</td><td>22.735</td><td>B</td></tr>
<tr><td>-4.87</td><td>22.503</td><td>B</td></tr>
<tr><td>-4.84</td><td>22.293</td><td>B</td></tr>
<tr><td>-4.83</td><td>22.072</td><td>B</td></tr>
</table></td>
</tr>
</table>

<p>Now we have a <code>GroupBy</code> with a signature</p>
<table>
  <thead>
    <tr>
      <th>key: [category]</th>
      <th>group: DataFrame[time|value|category]</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>A</td>
      <td>A-Group</td>
    </tr>
    <tr>
      <td>B</td>
      <td>B-Group</td>
    </tr>
  </tbody>
</table>

<!---FUN guideSmoothGroupedDFStatSmooth-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="n">groupedDF</span><span class="p">.</span><span class="na">statSmooth</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="p">(</span><span class="n">time</span><span class="p">);</span><span class="w"> </span><span class="n">y</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<table>
<tr><td>category</td><td>group</td></tr>
<tr><td>A</td>
<td><table>
<tr><td>Stat</td></tr>
<tr><td>{ x: -5.0, y: -4.2, y: -4.2, ... }</td></tr>
</table></td>
</tr>
<tr><td>B</td>
<td><table>
<tr><td>Stat</td></tr>
<tr><td>{ x: -5.0, y: 17.4, y: 17.1, ... }</td></tr>
</table></td>
</tr>
</table>

<p>After <code>statSmooth</code> applying it's still a <code>GroupBy</code> but with different signature of <code>group</code> —
all groups have the same signature as usual <code>DataFrame</code> after <code>statSmooth</code> applying (i.e. <code>StatSmoothFrame</code>):</p>
<table>
  <thead>
    <tr>
      <th>key: [drv]</th>
      <th>group: StaSmoothFrame</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>"A"</td>
      <td>"A"-Group</td>
    </tr>
    <tr>
      <td>"B"</td>
      <td>"B"-Group</td>
    </tr>
  </tbody>
</table>

<p>As you can see, we did indeed do a <code>statSmooth</code> transformation within groups, the grouping keys did not change.</p>
<p>The plotting process doesn't change much — we do everything the same.</p>
<!---FUN guideSmoothGroupedStatSmoothPlot-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span>
<span class="normal"><a href="#__codelineno-13-4">4</a></span>
<span class="normal"><a href="#__codelineno-13-5">5</a></span>
<span class="normal"><a href="#__codelineno-13-6">6</a></span>
<span class="normal"><a href="#__codelineno-13-7">7</a></span>
<span class="normal"><a href="#__codelineno-13-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="n">groupedDF</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">    </span><span class="n">statSmooth</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">        </span><span class="n">line</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="w">            </span><span class="n">x</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">x</span><span class="p">)</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="w">            </span><span class="n">y</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">y</span><span class="p">)</span>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="StatSmooth on Grouped DataFrame" src="guideSmoothGroupedStatSmoothPlot.svg" /></p>
<p>As you can see, there are two lines because we have two groups of data.
To distinguish them, we need to add mapping to the color from the key.
This is convenient — the key is available in the context</p>
<!---FUN guideSmoothGroupedStatSmoothPlotWithColor-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span>
<span class="normal"><a href="#__codelineno-14-3">3</a></span>
<span class="normal"><a href="#__codelineno-14-4">4</a></span>
<span class="normal"><a href="#__codelineno-14-5">5</a></span>
<span class="normal"><a href="#__codelineno-14-6">6</a></span>
<span class="normal"><a href="#__codelineno-14-7">7</a></span>
<span class="normal"><a href="#__codelineno-14-8">8</a></span>
<span class="normal"><a href="#__codelineno-14-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="n">groupedDF</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w">    </span><span class="n">statSmooth</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SmoothMethod</span><span class="p">.</span><span class="na">Polynomial</span><span class="p">(</span><span class="m">3</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="w">        </span><span class="n">line</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="w">            </span><span class="n">x</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">x</span><span class="p">)</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="w">            </span><span class="n">y</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">y</span><span class="p">)</span>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="w">            </span><span class="n">color</span><span class="p">(</span><span class="n">category</span><span class="p">)</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="StatSmooth on Grouped DataFrame with Color" src="guideSmoothGroupedStatSmoothPlotWithColor.svg" /></p>
<p>The <code>smoothLine()</code> layer also works.
Moreover, if we have exactly one grouping key, a mapping from it to <code>color</code> will be created by default.</p>
<!---FUN guideSmoothGroupedSmoothLine-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="n">groupedDF</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="w">    </span><span class="n">smoothLine</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="SmoothLine with Default Colors" src="guideSmoothGroupedSmoothLine.svg" /></p>
<p>We can customize it like we used to. From the differences — access to <code>key</code> columns:</p>
<!---FUN guideSmoothCustomizedGroupedSmoothLine-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span>
<span class="normal"><a href="#__codelineno-16-5">5</a></span>
<span class="normal"><a href="#__codelineno-16-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="n">groupedDF</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="w">    </span><span class="n">smoothLine</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="w">        </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">GREEN</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="w">        </span><span class="n">type</span><span class="p">(</span><span class="n">category</span><span class="p">)</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="SmoothLine with Mapping on Type" src="guideSmoothCustomizedGroupedSmoothLine.svg" /></p>
<h3 id="inside-groupby-plot-context">Inside <code>groupBy{}</code> plot context</h3>
<p>We can apply <code>groupBy</code> modification to the initial dataset and build a histogram with grouped data the same way:</p>
<!---FUN guideSmoothGroupBySmoothLine-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span>
<span class="normal"><a href="#__codelineno-17-3">3</a></span>
<span class="normal"><a href="#__codelineno-17-4">4</a></span>
<span class="normal"><a href="#__codelineno-17-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="n">valuesDF</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="w">    </span><span class="n">groupBy</span><span class="p">(</span><span class="n">category</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">        </span><span class="n">smoothLine</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="GroupBy into Plot" src="guideSmoothGroupBySmoothLine.svg" /></p>
<p><seealso style="cards">
       <category ref="example-ktnb">
           <a href="https://github.com/Kotlin/kandy/blob/main/examples/notebooks/lets-plot/guides/smoothing.ipynb" summary="View the notebook on our GitHub repository">GitHub Notebook</a>
           <a href="https://datalore.jetbrains.com/report/static/KQKedA4jDrKu63O53gEN0z/TW5QSgta5WysX0zhtCfja2" summary="Experiment with this example on Datalore">Datalore Notebook</a>
       </category>
</seealso></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.path", "navigation.tabs", "navigation.tracking", "search.suggest"], "search": "../../../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../../../../javascript/katex.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
      
        <script src="../../../../../js/open_in_new_tab.js"></script>
      
    
  </body>
</html>