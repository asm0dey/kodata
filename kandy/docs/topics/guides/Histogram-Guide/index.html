
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Histogram - My Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.50c56a3b.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Histogram - My Docs" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="./assets/images/social/kandy/docs/topics/guides/Histogram-Guide.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="None" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Histogram - My Docs" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="./assets/images/social/kandy/docs/topics/guides/Histogram-Guide.png" >
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#histogram" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="My Docs" class="md-header__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Histogram
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../dataforge-core/" class="md-tabs__link">
          
  
  Data Wrangling

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../kotlindl/" class="md-tabs__link">
          
  
  ML

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../kotlingrad/" class="md-tabs__link">
          
  
  Math

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../kaliningraph/" class="md-tabs__link">
          
  
  Plots

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../kalasim/" class="md-tabs__link">
          
  
  Other

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="My Docs" class="md-nav__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    My Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Data Wrangling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Data Wrangling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../dataforge-core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dataforge-core
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../controls-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Controls.kt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kotlin-spark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin for Apache® Spark™
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../dataframe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin DataFrame
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../tables-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tables.kt
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    ML
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            ML
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kotlindl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kotlindl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../londogard-nlp-toolkit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    londogard-nlp-toolkit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../summarize-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    summarize-kt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../text-gen-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    text-gen-kt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../smile-nlp-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    smile-nlp-kt
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Math
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Math
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kotlingrad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin∇
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kmath/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kmath
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../multik/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    multik
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Plots
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Plots
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kaliningraph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kaliningraph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kandy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kotlingrad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin∇
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kravis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kravis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../lets-plot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lets-Plot Kotlin API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../plotly-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    plotly.kt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../visionforge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DataForge Visualization Platform
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Other
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Other
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kalasim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kalasim
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../kotlin-jupyter/docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin Kernel for IPython/Jupyter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../snark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    snark
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Arguments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generalized-signature" class="md-nav__link">
    <span class="md-ellipsis">
      Generalized signature
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output-statistics" class="md-nav__link">
    <span class="md-ellipsis">
      Output statistics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statbin-plots" class="md-nav__link">
    <span class="md-ellipsis">
      StatBin plots
    </span>
  </a>
  
    <nav class="md-nav" aria-label="StatBin plots">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#statbin-context-transform" class="md-nav__link">
    <span class="md-ellipsis">
      statBin context transform
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#histogram-layer" class="md-nav__link">
    <span class="md-ellipsis">
      Histogram layer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#histogram-plot" class="md-nav__link">
    <span class="md-ellipsis">
      histogram plot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grouped-stabin" class="md-nav__link">
    <span class="md-ellipsis">
      Grouped staBin
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Grouped staBin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inside-groupby-plot-context" class="md-nav__link">
    <span class="md-ellipsis">
      Inside groupBy{} plot context
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="histogram">Histogram</h1>
<p><web-summary>
Delve into Kandy's 'Histogram' guide to understand the nuances of visualizing frequency distributions.
Learn how to effectively represent data variations and trends.
</web-summary></p>
<p><card-summary>
Kandy's 'Histogram' guide offers a deep dive into frequency visualization.
Discover how to bring data distributions to life in your plots.
</card-summary></p>
<p><link-summary>
Explore Kandy's guide on creating histograms for insightful data analysis.
Learn the keys to visualizing and interpreting frequency distributions.
</link-summary></p>
<!---IMPORT org.jetbrains.kotlinx.kandy.letsplot.samples.guides.Histogram-->

<p>Statistics "bin" are counted on the sample of a single continuous variable.
Firstly, it divides the range of values into bins (sequential, non-overlapping sections),
and then it counts the number of observations in each bin.
It's weighted, it means the weighted count for each bin is calculated
(each element within a bin counted along with its weight).
It's really important to carefully choose a bin-constructing method
(for example, by the exact number of bins or by their width).
This decision has a big impact on how the data is shown and studied.
It makes sure that the way the data is shown is natural to understand and gives a true picture of the information.</p>
<p>This notebook uses definitions from <a href="https://kotlin.github.io/dataframe/overview.html">DataFrame</a>.</p>
<h2 id="usage">Usage</h2>
<p>Binning is commonly used in statistics and data analysis
to simplify complex data sets and make them easier to interpret.
Histogram (or any other plot with "bin" statistics) helps to give an overview of the sample distribution.</p>
<h2 id="arguments">Arguments</h2>
<ul>
<li>Input (mandatory):<ul>
<li><code>x</code> — numeric sample on which the statistics are calculated</li>
</ul>
</li>
<li>Weights (optional):<ul>
<li><code>weights</code> — set of weights of the same size as the input sample.
  <code>null</code> (by default) means all weights are equal to <code>1.0</code> and the weighted count is equal to the normal one</li>
</ul>
</li>
<li>Parameters (optional):<ul>
<li><code>binsOption: BinsOption</code> — specifies either the number of bins or their width:<ul>
<li><code>BinsOption.byNumber(n: Int)</code> — values are divided into <code>n</code> bins (bins width is derived)</li>
<li><code>BinsOption.byWidth(width: Double)</code> — values are divided into bins of width <code>width</code>
  (the number of bins is derived)</li>
</ul>
</li>
<li><code>binsAlign: BinsAlign</code> — specifies bins aligning:<ul>
<li><code>BinsAlign.center(pos: Double)</code> — bins are aligned by centering bin in <code>pos</code></li>
<li><code>BinsAlign.boundary(pos: Double)</code> — bins are aligned by boundary between two bins in <code>pos</code></li>
<li><code>BinsAlign.none()</code> — no aligning</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="generalized-signature">Generalized signature</h3>
<p>The specific signature depends on the function,
but all functions related to "bin" statistic
(which will be discussed further below - different variations of <code>statBin()</code>, <code>histogram()</code>)
have approximately the same signature with the arguments above:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>statBinArgs := 
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>   x, 
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>   weights = null, 
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>   binsOption: BinsOption = BinsOption.byNumber(20), 
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>   binsAlign: BinsAlign = BinsAlign.center(0.0)
</code></pre></div></td></tr></table></div>
<p>The possible types of <code>x</code> and <code>weights</code> depend on where a certain function is used.
They can be simply <code>Iterable</code> (<code>List</code>, <code>Set</code>, etc.) or a reference to a column in a <code>DataFrame</code>
(<code>String</code>, <code>ColumnAccessor</code>) or the <code>DataColumn</code> itself.</p>
<h2 id="output-statistics">Output statistics</h2>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Stat.x</td>
<td>Double</td>
<td>Center of bin</td>
</tr>
<tr>
<td>Stat.count</td>
<td>Int</td>
<td>Number of observations in this bin</td>
</tr>
<tr>
<td>Stat.countWeighted</td>
<td>Double</td>
<td>Weighted count (sum of observations weights in this bin)</td>
</tr>
<tr>
<td>Stat.density</td>
<td>Double</td>
<td>Empirically estimated density in this bin</td>
</tr>
<tr>
<td>Stat.densityWeighted</td>
<td>Double</td>
<td>Weighted density</td>
</tr>
</tbody>
</table>
<h2 id="statbin-plots">StatBin plots</h2>
<!---FUN guideHistogramGenerateData-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1">// Generate sample from normal distribution</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="kd">val</span><span class="w"> </span><span class="nv">depthList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NormalDistribution</span><span class="p">(</span><span class="m">500.0</span><span class="p">,</span><span class="w"> </span><span class="m">100.0</span><span class="p">).</span><span class="na">sample</span><span class="p">(</span><span class="m">1000</span><span class="p">).</span><span class="na">toList</span><span class="p">()</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="c1">// Generate sample from uniform distribution</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="kd">val</span><span class="w"> </span><span class="nv">coeffList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UniformRealDistribution</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span><span class="w"> </span><span class="m">1.0</span><span class="p">).</span><span class="na">sample</span><span class="p">(</span><span class="m">1000</span><span class="p">).</span><span class="na">toList</span><span class="p">()</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="c1">// gather them into the DataFrame</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="kd">val</span><span class="w"> </span><span class="nv">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dataFrameOf</span><span class="p">(</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">    </span><span class="s">&quot;depth&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">depthList</span><span class="p">,</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">    </span><span class="s">&quot;coeff&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">coeffList</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="p">)</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="n">df</span><span class="p">.</span><span class="na">head</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<table>
<thead>
<tr>
<th>depth</th>
<th>coeff</th>
</tr>
</thead>
<tbody>
<tr>
<td>458.195</td>
<td>0.343</td>
</tr>
<tr>
<td>336.811</td>
<td>0.807</td>
</tr>
<tr>
<td>762.538</td>
<td>0.101</td>
</tr>
<tr>
<td>692.733</td>
<td>0.51</td>
</tr>
<tr>
<td>424.594</td>
<td>0.873</td>
</tr>
</tbody>
</table>
<p><code>df</code> has a signature</p>
<table>
<thead>
<tr>
<th>depth</th>
<th>coeff</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Let's take a look at <code>StatBin</code> output DataFrame:</p>
<!---FUN guideHistogramStatBin-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="n">df</span><span class="p">.</span><span class="na">statBin</span><span class="p">(</span><span class="s">&quot;depth&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;coeff&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">binsOption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BinsOption</span><span class="p">.</span><span class="na">byNumber</span><span class="p">(</span><span class="m">10</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<table>
<tr><td><b>Stat</b></td></tr>
<tr><td>
<table>
<tr><td>x</td><td>count</td><td>countWeighted</td><td>density</td><td>densityWeighted</td></tr>
<tr><td>167.131</td><td>1</td><td>0.325</td><td>0</td><td>0</td></tr>
<tr><td>233.984</td><td>8</td><td>3.68</td><td>0</td><td>0</td></tr>
<tr><td>300.836</td><td>33</td><td>18.901</td><td>0</td><td>0.001</td></tr>
<tr><td>367.689</td><td>110</td><td>57.011</td><td>0.002</td><td>0.002</td></tr>
<tr><td>434.541</td><td>216</td><td>112.568</td><td>0.003</td><td>0.003</td></tr>
</table>
</td></tr>
</table>

<p>It has the following signature:</p>
<table>
  <thead>
    <tr>
      <th alignt="left" colspan="5">Stat</th>
    </tr>
  </thead>
  <thead>
    <tr>
      <th>x</th>
      <th>count</th>
      <th>countWeighted</th>
      <th>density</th>
      <th>densityWeighted</th>
    </tr>
  </thead>
</table>

<p>As you can see, we got a <code>DataFrame</code> with one <code>ColumnGroup</code> called <code>Stat</code> which contains several columns with statics.
For <code>statBin</code>, each row corresponds to one bin.
<code>Stat.x</code> is the column with the centers of the bins.
<code>Stat.count</code> contains the number of observations in the bin.
<code>Stat.countWeighted</code> — weighted version of <code>count</code>.
There are also <code>Stat.density</code> and <code>Stat.densityWeighted</code>.
They contain empirically estimated density (both normal and weighted)
of the sample in the points corresponding to the centers of bins.</p>
<p><code>DataFrame</code> with "bin" statistics is called <code>StatBinFrame</code></p>
<h3 id="statbin-context-transform"><code>statBin</code> context transform</h3>
<p><code>statBin(statBinArgs) { /*new plotting context*/ }</code> modifies a plotting context — instead of original data
(no matter was it empty or not) new <code>StatBin</code> dataset (calculated on given arguments.
Inputs and weights can be provided as <code>Iterable</code> or as dataset column reference — by name as a <code>String</code>,
as a <code>ColumnReference</code> or as a <code>DataColumn</code>) is used inside a new context
(original dataset and primary context are not affected —
you can add layers using initial dataset outside the <code>statBin</code> context).
Since the old dataset is irrelevant, we cannot use references for its columns.
But we can refer to the new ones.
They are all contained in the <code>Stat</code> group and can be called inside the new context:</p>
<!---FUN guideHistogramStatBinAreaPlot-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="n">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="n">statBin</span><span class="p">(</span><span class="n">depthList</span><span class="p">,</span><span class="w"> </span><span class="n">binsAlign</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BinsAlign</span><span class="p">.</span><span class="na">center</span><span class="p">(</span><span class="m">500.0</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">        </span><span class="c1">// new `StatBin` dataset here</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">        </span><span class="n">area</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">            </span><span class="c1">// use `Stat.*` columns for mappings</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">            </span><span class="n">x</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">x</span><span class="p">)</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="w">            </span><span class="n">y</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">count</span><span class="p">)</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="w">            </span><span class="n">fillColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">RED</span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="w">            </span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="StatBin with Area Plot" src="guideHistogramStatBinAreaPlot.svg" /></p>
<h3 id="histogram-layer">Histogram layer</h3>
<p>A histogram is a statistical chart that serves to visually approximate the distribution of a numerical variable.
It's a bar plot where each bar is representing a bin: its x coordinate is corresponding to bin range and y to count.
So basically, we can build a histogram with <code>statBin</code> as follows:</p>
<!---FUN guideHistogramStatBinBarsPlot-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="kd">val</span><span class="w"> </span><span class="nv">statBinBarsPlot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="w">    </span><span class="n">statBin</span><span class="p">(</span><span class="s">&quot;depth&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">        </span><span class="n">bars</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">            </span><span class="n">x</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">x</span><span class="p">)</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">            </span><span class="n">y</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">count</span><span class="p">)</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">    </span><span class="n">layout</span><span class="p">.</span><span class="na">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;`statBin` + `bars`&quot;</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="p">}</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="n">statBinBarsPlot</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="StatBin Bars Plot" src="guideHistogramStatBinBarsPlot.svg" /></p>
<p>But we can do it even faster with <code>histogram(statBinArgs)</code> method:</p>
<!---FUN guideHistogramHistPlot-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span>
<span class="normal"><a href="#__codelineno-5-4">4</a></span>
<span class="normal"><a href="#__codelineno-5-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kd">val</span><span class="w"> </span><span class="nv">histogramPlot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">    </span><span class="n">histogram</span><span class="p">(</span><span class="n">depthList</span><span class="p">)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">    </span><span class="n">layout</span><span class="p">.</span><span class="na">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;`histogram`&quot;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="p">}</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="n">histogramPlot</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="Histogram Plot" src="guideHistogramHistPlot.svg" /></p>
<p>Let's compare them:</p>
<!---FUN guideHistogramCompareBarsVsHist-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="n">plotGrid</span><span class="p">(</span><span class="n">listOf</span><span class="p">(</span><span class="n">statBinBarsPlot</span><span class="p">,</span><span class="w"> </span><span class="n">histogramPlot</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="Compare Histogram vs StatBin Bar Plots" src="guideHistogramCompareBarsVsHist.svg" /></p>
<p>These two plots are identical.
Indeed, <code>histogram</code> just uses <code>statBin</code> and <code>bars</code> and performs coordinates mappings under the hood.
And we can customize histogram layer: <code>histogram()</code> optionally opens a new context,
where we can configure bars (as in the usual context opened by <code>bars { ... }</code>) —
even change coordinate mappings from default ones.
<code>StatBin</code> dataset of histogram is also can be accessed here.</p>
<!---FUN guideHistogramHistFillColor-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="n">df</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">    </span><span class="n">histogram</span><span class="p">(</span><span class="n">depth</span><span class="p">,</span><span class="w"> </span><span class="n">binsAlign</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BinsAlign</span><span class="p">.</span><span class="na">center</span><span class="p">(</span><span class="m">500.0</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">        </span><span class="c1">// Change a column mapped on `y` to `Stat.density`</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">        </span><span class="n">y</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">density</span><span class="p">)</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">        </span><span class="c1">// Filling color depends on `density` statistic</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">        </span><span class="n">fillColor</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">density</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="w">            </span><span class="n">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">continuous</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">YELLOW</span><span class="p">..</span><span class="na">Color</span><span class="p">.</span><span class="na">RED</span><span class="p">)</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="w">        </span><span class="n">borderLine</span><span class="p">.</span><span class="na">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">BLACK</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="Customized Histogram Plot" src="guideHistogramHistFillColor.svg" /></p>
<p>If we specify weights, <code>Stat.countWeighted</code> is mapped to <code>y</code> by default:</p>
<!---FUN guideHistogramSmoothLineWithPoints-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span>
<span class="normal"><a href="#__codelineno-8-13">13</a></span>
<span class="normal"><a href="#__codelineno-8-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="n">df</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="w">    </span><span class="c1">// Count sample mean</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">mean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">depth</span><span class="p">.</span><span class="na">mean</span><span class="p">()</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">    </span><span class="c1">// Add weighted histogram</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">    </span><span class="n">histogram</span><span class="p">(</span><span class="n">depth</span><span class="p">,</span><span class="w"> </span><span class="n">coeff</span><span class="p">,</span><span class="w"> </span><span class="n">binsOption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BinsOption</span><span class="p">.</span><span class="na">byNumber</span><span class="p">(</span><span class="m">10</span><span class="p">),</span><span class="w"> </span><span class="n">binsAlign</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BinsAlign</span><span class="p">.</span><span class="na">boundary</span><span class="p">(</span><span class="n">mean</span><span class="p">))</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="w">    </span><span class="c1">// We can add other layers as well.</span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="w">    </span><span class="c1">// Let&#39;s add a vertical mark line in the mean of sample</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="w">    </span><span class="n">vLine</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="w">        </span><span class="n">xIntercept</span><span class="p">.</span><span class="na">constant</span><span class="p">(</span><span class="n">mean</span><span class="p">)</span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="w">        </span><span class="n">tooltips</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">line</span><span class="p">(</span><span class="s">&quot;Depth mean: </span><span class="si">${</span><span class="kt">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;</span><span class="o">%</span><span class="p">.</span><span class="m">2f</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">mean</span><span class="p">)</span><span class="si">}</span><span class="s">m&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="w">        </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">RED</span><span class="p">;</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3.0</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a><span class="w">    </span><span class="n">x</span><span class="p">.</span><span class="na">axis</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;depth, m&quot;</span>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="Histogram with mapping on countWeighted" src="guideHistogramSmoothLineWithPoints.svg" /></p>
<h3 id="histogram-plot"><code>histogram</code> plot</h3>
<p><code>histogram(statBinArgs)</code> and <code>DataFrame.histogram(statBinArgs)</code> are a family of functions for fast plotting a histogram.</p>
<!---FUN guideHistogramSimpleHistPlot-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="n">histogram</span><span class="p">(</span><span class="n">depthList</span><span class="p">,</span><span class="w"> </span><span class="n">binsAlign</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BinsAlign</span><span class="p">.</span><span class="na">center</span><span class="p">(</span><span class="m">500.0</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="Simple Histogram Plot" src="guideHistogramSimpleHistPlot.svg" /></p>
<!---FUN guideHistogramSimpleHistOnDf-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="n">df</span><span class="p">.</span><span class="na">histogram</span><span class="p">(</span><span class="s">&quot;depth&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="Simple Histogram on DataFrame" src="guideHistogramSimpleHistOnDf.svg" /></p>
<p>In case you want to provide inputs and weights using column selection DSL, it's a bit different from the usual one —
you should assign <code>x</code> input and (optionally) <code>weight</code> throw invocation eponymous functions:</p>
<!---FUN guideHistogramHistWithWeight-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span>
<span class="normal"><a href="#__codelineno-11-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="n">df</span><span class="p">.</span><span class="na">histogram</span><span class="p">(</span><span class="n">binsOption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BinsOption</span><span class="p">.</span><span class="na">byNumber</span><span class="p">(</span><span class="m">10</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="w">    </span><span class="n">x</span><span class="p">(</span><span class="n">depth</span><span class="p">)</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">    </span><span class="n">weight</span><span class="p">(</span><span class="n">coeff</span><span class="p">)</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="Histogram with mapping on DataColumns" src="guideHistogramHistWithWeight.svg" /></p>
<p>Histogram plot can be configured with <code>.configure {}</code> extension —
it opens a context that combines bars, <code>StatBin</code> and plot context.
That means you can configure bars settings, mappings using <code>StatBin</code> dataset and any plot adjustments:</p>
<!---FUN guideHistogramConfiguredHistPlot-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span>
<span class="normal"><a href="#__codelineno-12-11">11</a></span>
<span class="normal"><a href="#__codelineno-12-12">12</a></span>
<span class="normal"><a href="#__codelineno-12-13">13</a></span>
<span class="normal"><a href="#__codelineno-12-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="n">df</span><span class="p">.</span><span class="na">histogram</span><span class="p">(</span><span class="n">binsOption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BinsOption</span><span class="p">.</span><span class="na">byNumber</span><span class="p">(</span><span class="m">15</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">    </span><span class="n">x</span><span class="p">(</span><span class="n">depth</span><span class="p">)</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="p">}.</span><span class="na">configure</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">    </span><span class="c1">// Bars + StatBin + PlotContext</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="w">    </span><span class="c1">// Can&#39;t add a new layer</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="w">    </span><span class="n">x</span><span class="p">.</span><span class="na">limits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100.</span><span class="p">.</span><span class="m">900</span>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="w">    </span><span class="c1">// Can add bar mapping, include on `Stat.*` columns</span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="w">    </span><span class="n">fillColor</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">count</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">continuous</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">GREEN</span><span class="p">..</span><span class="na">Color</span><span class="p">.</span><span class="na">RED</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="w">    </span><span class="c1">// Can configure general plot adjustments</span>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a><span class="w">    </span><span class="n">layout</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-11" name="__codelineno-12-11"></a><span class="w">        </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Configured histogram plot&quot;</span>
<a id="__codelineno-12-12" name="__codelineno-12-12"></a><span class="w">        </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">600</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="m">350</span>
<a id="__codelineno-12-13" name="__codelineno-12-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-14" name="__codelineno-12-14"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="Configured Histogram Plot" src="guideHistogramConfiguredHistPlot.svg" /></p>
<h2 id="grouped-stabin">Grouped <code>staBin</code></h2>
<p><code>statBin</code> can be applied for grouped data — statistics will be counted on each group independently but with equal bins.
This application returns a new <code>GroupBy</code>
dataset with the same keys as the old one but with <code>StatBin</code> groups instead of old ones.</p>
<!---FUN guideHistogramGenerateGropedData-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-13-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-13-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-13-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-13-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-13-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-13-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-13-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-13-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-13-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="c1">// Create two samples from normal distribution with different mean/std</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="kd">val</span><span class="w"> </span><span class="nv">rangesA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NormalDistribution</span><span class="p">(</span><span class="m">500.0</span><span class="p">,</span><span class="w"> </span><span class="m">100.0</span><span class="p">).</span><span class="na">sample</span><span class="p">(</span><span class="m">5000</span><span class="p">).</span><span class="na">toList</span><span class="p">()</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="kd">val</span><span class="w"> </span><span class="nv">rangesB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NormalDistribution</span><span class="p">(</span><span class="m">400.0</span><span class="p">,</span><span class="w"> </span><span class="m">80.0</span><span class="p">).</span><span class="na">sample</span><span class="p">(</span><span class="m">5000</span><span class="p">).</span><span class="na">toList</span><span class="p">()</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="c1">// Gather them into `DataFrame` with &quot;A&quot; and &quot;B&quot; keys in the &quot;category&quot; column</span>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="kd">val</span><span class="w"> </span><span class="nv">rangesDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dataFrameOf</span><span class="p">(</span>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">    </span><span class="s">&quot;range&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">rangesA</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rangesB</span><span class="p">,</span>
<a id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="w">    </span><span class="s">&quot;category&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="m">5000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;A&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="m">5000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;B&quot;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="p">)</span>
<a id="__codelineno-13-10" name="__codelineno-13-10"></a><span class="n">rangesDF</span><span class="p">.</span><span class="na">head</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<table>
<thead>
<tr>
<th>range</th>
<th>category</th>
</tr>
</thead>
<tbody>
<tr>
<td>347.452</td>
<td>A</td>
</tr>
<tr>
<td>467.839</td>
<td>A</td>
</tr>
<tr>
<td>527.679</td>
<td>A</td>
</tr>
<tr>
<td>538.295</td>
<td>A</td>
</tr>
<tr>
<td>654.991</td>
<td>A</td>
</tr>
</tbody>
</table>
<p>It has the following signature:</p>
<table>
<thead>
<tr>
<th>range</th>
<th>category</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<!---FUN guideHistogramGroupedData-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span>
<span class="normal"><a href="#__codelineno-14-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="c1">// Group it by &quot;category&quot;</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="kd">val</span><span class="w"> </span><span class="nv">groupedRangesDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rangesDF</span><span class="p">.</span><span class="na">groupBy</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">category</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="n">groupedRangesDF</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<table>
<tr><td>category</td><td>group</td></tr>
<tr><td>A</td><td>
<table>
<tr><td>range</td><td>category</td></tr>
<tr><td>527.679</td><td>A</td></tr>
<tr><td>654.991</td><td>A</td></tr>
<tr><td>538.295</td><td>A</td></tr>
<tr><td>467.839</td><td>A</td></tr>
<tr><td>347.452</td><td>A</td></tr>
</table>
</td></tr>
<tr><td>B</td><td>
<table>
<tr><td>range</td><td>category</td></tr>
<tr><td>377.8</td><td>B</td></tr>
<tr><td>266.069</td><td>B</td></tr>
<tr><td>306.389</td><td>B</td></tr>
<tr><td>543.127</td><td>B</td></tr>
<tr><td>482.897</td><td>B</td></tr>
</table>
</td></tr>
</table>

<p>Now we have a <code>GroupBy</code> with a signature</p>
<table>
  <thead>
    <tr>
      <th>key: [category]</th>
      <th>group: DataFrame[range|category]</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>A</td>
      <td>A-Group</td>
    </tr>
    <tr>
      <td>B</td>
      <td>B-Group</td>
    </tr>
  </tbody>
</table>

<!---FUN guideHistogramGroupedStatBin-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="n">groupedRangesDF</span><span class="p">.</span><span class="na">statBin</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="p">(</span><span class="n">range</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<table>
<tr><td>category</td><td>group</td></tr>
<tr><td>A</td><td>
<table>
<tr><td>Stat</td></tr>
<tr><td>{ x: 116.91, count: 1, countWeighted: 1, ... }</td></tr>
</table>
</td></tr>
<tr><td>B</td><td>
<table>
<tr><td>Stat</td></tr>
<tr><td>{ x: 116.91, count: 5, countWeighted: 5, ... }</td></tr>
</table>
</td></tr>
</table>

<p>After <code>statBin</code> applying it's still a <code>GroupBy</code> but with different signature of <code>group</code> —
all groups have the same signature as usual <code>DataFrame</code> after <code>statBin</code> applying (i.e. <code>StatBinFrame</code>):</p>
<table>
  <thead>
    <tr>
      <th>key: [category]</th>
      <th>group: StaBinFrame</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>A</td>
      <td>A-Group</td>
    </tr>
    <tr>
      <td>B</td>
      <td>B-Group</td>
    </tr>
  </tbody>
</table>

<p>As you can see, we did indeed do a <code>statBin</code> transformation within groups, the grouping keys did not change.
Also, all bin centers match — it helps to build grouped histogram.</p>
<p>The plotting process doesn't change much — we do everything the same.</p>
<!---FUN guideHistogramGroupedStatBinAreaPlot-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span>
<span class="normal"><a href="#__codelineno-16-5">5</a></span>
<span class="normal"><a href="#__codelineno-16-6">6</a></span>
<span class="normal"><a href="#__codelineno-16-7">7</a></span>
<span class="normal"><a href="#__codelineno-16-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="n">groupedRangesDF</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="w">    </span><span class="n">statBin</span><span class="p">(</span><span class="n">range</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="w">        </span><span class="n">area</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="w">            </span><span class="n">x</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">x</span><span class="p">)</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="w">            </span><span class="n">y</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">density</span><span class="p">)</span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="Grouped StatBin Plot" src="guideHistogramGroupedStatBinAreaPlot.svg" /></p>
<p>As you can see, there are two areas because we have two groups of data.
To distinguish them, we need to add mapping to the filling color from the key.
This is convenient — the key is available in the context</p>
<!---FUN guideHistogramGroupedStatBinAreaWithColor-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-17-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-17-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-17-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-17-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-17-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span>
<span class="normal"><a href="#__codelineno-17-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="n">groupedRangesDF</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="w">    </span><span class="n">statBin</span><span class="p">(</span><span class="n">range</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">        </span><span class="n">area</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="w">            </span><span class="n">x</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">x</span><span class="p">)</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="w">            </span><span class="n">y</span><span class="p">(</span><span class="n">Stat</span><span class="p">.</span><span class="na">density</span><span class="p">)</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="w">            </span><span class="c1">// can access &quot;key.&quot; columns and create mapping from them</span>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="w">            </span><span class="n">fillColor</span><span class="p">(</span><span class="n">category</span><span class="p">)</span>
<a id="__codelineno-17-8" name="__codelineno-17-8"></a><span class="w">            </span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.6</span>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-17-10" name="__codelineno-17-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-17-11" name="__codelineno-17-11"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="StatBin Area with Mapped fillColor" src="guideHistogramGroupedStatBinAreaWithColor.svg" /></p>
<p>The <code>histogram</code> layer also works.
Moreover, if we have exactly one grouping key, a mapping from it to <code>fillColor</code> will be created by default.</p>
<!---FUN guideHistogramGroupedHist-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span>
<span class="normal"><a href="#__codelineno-18-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="n">groupedRangesDF</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="w">    </span><span class="n">histogram</span><span class="p">(</span><span class="n">range</span><span class="p">)</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="Simple Grouped Histogram Plot" src="guideHistogramGroupedHist.svg" /></p>
<p>We can customize it like we used to.
From the differences - access to <code>key</code> columns, and we can customize the <code>position</code>
of bars (within a single x-coordinate), for example — stack them:</p>
<!---FUN guideHistogramCustomizedGroupedHist-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-19-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-19-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-19-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-19-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-19-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-19-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-19-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-19-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-19-10">10</a></span>
<span class="normal"><a href="#__codelineno-19-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="n">groupedRangesDF</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="w">    </span><span class="n">histogram</span><span class="p">(</span><span class="n">range</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="w">        </span><span class="n">fillColor</span><span class="p">(</span><span class="n">category</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="w">            </span><span class="n">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">categorical</span><span class="p">(</span><span class="n">listOf</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="na">GREEN</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">ORANGE</span><span class="p">))</span>
<a id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-19-6" name="__codelineno-19-6"></a><span class="w">        </span><span class="n">borderLine</span><span class="p">.</span><span class="na">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.0</span>
<a id="__codelineno-19-7" name="__codelineno-19-7"></a><span class="w">        </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1.0</span>
<a id="__codelineno-19-8" name="__codelineno-19-8"></a><span class="w">        </span><span class="c1">// Adjust position of bars from different groups</span>
<a id="__codelineno-19-9" name="__codelineno-19-9"></a><span class="w">        </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Position</span><span class="p">.</span><span class="na">stack</span><span class="p">()</span>
<a id="__codelineno-19-10" name="__codelineno-19-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-19-11" name="__codelineno-19-11"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="Stack Position on Histogram Plot" src="guideHistogramCustomizedGroupedHist.svg" /></p>
<p>Histogram plot for <code>GroupBy</code> (i.e. <code>GroupBy.histogram(statBinArgs)</code> extensions) works as well:</p>
<!---FUN guideHistogramGrSimpleHist-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="n">groupedRangesDF</span><span class="p">.</span><span class="na">histogram</span><span class="p">(</span><span class="s">&quot;range&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="Simple Histogram on Grouped Data" src="guideHistogramGrSimpleHist.svg" /></p>
<p>... and can be configured the same way:</p>
<!---FUN guideHistogramConfiguredGrSimpleHist-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span>
<span class="normal"><a href="#__codelineno-21-2">2</a></span>
<span class="normal"><a href="#__codelineno-21-3">3</a></span>
<span class="normal"><a href="#__codelineno-21-4">4</a></span>
<span class="normal"><a href="#__codelineno-21-5">5</a></span>
<span class="normal"><a href="#__codelineno-21-6">6</a></span>
<span class="normal"><a href="#__codelineno-21-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="n">groupedRangesDF</span><span class="p">.</span><span class="na">histogram</span><span class="p">(</span><span class="n">binsAlign</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BinsAlign</span><span class="p">.</span><span class="na">center</span><span class="p">(</span><span class="m">500.0</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="p">(</span><span class="n">range</span><span class="p">)</span><span class="w"> </span><span class="p">}.</span><span class="na">configure</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="w">    </span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.6</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="w">    </span><span class="c1">// make the bars from different groups overlap with each other</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="w">    </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Position</span><span class="p">.</span><span class="na">identity</span><span class="p">()</span>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a><span class="w">    </span><span class="c1">// can access key column by name as `String`</span>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="w">    </span><span class="n">fillColor</span><span class="p">(</span><span class="s">&quot;category&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">categoricalColorBrewer</span><span class="p">(</span><span class="n">BrewerPalette</span><span class="p">.</span><span class="na">Qualitative</span><span class="p">.</span><span class="na">Dark2</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-21-7" name="__codelineno-21-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="Configured Grouped Histogram" src="guideHistogramConfiguredGrSimpleHist.svg" /></p>
<h3 id="inside-groupby-plot-context">Inside <code>groupBy{}</code> plot context</h3>
<p>We can apply <code>groupBy</code> modification to the initial dataset and build a histogram with grouped data the same way:</p>
<!---FUN guideHistogramGroupByHistPlot-->

<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span>
<span class="normal"><a href="#__codelineno-22-2">2</a></span>
<span class="normal"><a href="#__codelineno-22-3">3</a></span>
<span class="normal"><a href="#__codelineno-22-4">4</a></span>
<span class="normal"><a href="#__codelineno-22-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="n">rangesDF</span><span class="p">.</span><span class="na">plot</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="w">    </span><span class="n">groupBy</span><span class="p">(</span><span class="n">category</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="w">        </span><span class="n">histogram</span><span class="p">(</span><span class="n">range</span><span class="p">)</span>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<!---END-->

<p><img alt="GroupBy in Plot" src="guideHistogramGroupByHistPlot.svg" /></p>
<p><seealso style="cards">
       <category ref="example-ktnb">
           <a href="https://github.com/Kotlin/kandy/blob/main/examples/notebooks/lets-plot/guides/histogram.ipynb" summary="View the notebook on our GitHub repository">GitHub Notebook</a>
           <a href="https://datalore.jetbrains.com/report/static/KQKedA4jDrKu63O53gEN0z/3w385Us8bVePkCFn0glPeg" summary="Experiment with this example on Datalore">Datalore Notebook</a>
       </category>
</seealso></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.path", "navigation.tabs", "navigation.tracking", "search.suggest"], "search": "../../../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../../../../javascript/katex.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
      
        <script src="../../../../../js/open_in_new_tab.js"></script>
      
    
  </body>
</html>