
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Adding new libraries - My Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Adding new libraries - My Docs" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="./assets/images/social/kotlin-jupyter/docs/libraries.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="None" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Adding new libraries - My Docs" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="./assets/images/social/kotlin-jupyter/docs/libraries.png" >
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#adding-new-libraries" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="My Docs" class="md-header__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Adding new libraries
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../dataforge-core/" class="md-tabs__link">
          
  
  Data Wrangling

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../kotlindl/" class="md-tabs__link">
          
  
  ML

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../kotlingrad/" class="md-tabs__link">
          
  
  Math

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../kaliningraph/" class="md-tabs__link">
          
  
  Plots

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../kalasim/" class="md-tabs__link">
          
  
  Other

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="My Docs" class="md-nav__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    My Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Data Wrangling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Data Wrangling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dataforge-core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dataforge-core
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controls-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Controls.kt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../kotlin-spark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin for Apache® Spark™
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dataframe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin DataFrame
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tables-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tables.kt
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    ML
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            ML
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../kotlindl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kotlindl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../londogard-nlp-toolkit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    londogard-nlp-toolkit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../summarize-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    summarize-kt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../text-gen-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    text-gen-kt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../smile-nlp-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    smile-nlp-kt
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Math
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Math
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../kotlingrad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin∇
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../kmath/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kmath
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../multik/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    multik
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Plots
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Plots
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../kaliningraph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kaliningraph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../kandy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kandy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../kotlingrad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin∇
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../kravis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kravis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lets-plot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lets-Plot Kotlin API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../plotly-kt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    plotly.kt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../visionforge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DataForge Visualization Platform
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Other
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Other
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../kalasim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kalasim
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin Kernel for IPython/Jupyter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../snark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    snark
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-integration-features" class="md-nav__link">
    <span class="md-ellipsis">
      Supported integration features
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Supported integration features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Dependencies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descriptor-api" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptor API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repositories" class="md-nav__link">
    <span class="md-ellipsis">
      Repositories
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Repositories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descriptor-api_1" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptor API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_1" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initial-imports" class="md-nav__link">
    <span class="md-ellipsis">
      Initial imports
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Initial imports">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descriptor-api_2" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptor API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_2" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callbacks-after-library-loading-called-once" class="md-nav__link">
    <span class="md-ellipsis">
      Callbacks after library loading (called once)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Callbacks after library loading (called once)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descriptor-api_3" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptor API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_3" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callbacks-before-each-cell-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Callbacks before each cell execution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Callbacks before each cell execution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descriptor-api_4" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptor API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_4" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callbacks-after-each-cell-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Callbacks after each cell execution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Callbacks after each cell execution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_5" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callbacks-on-cell-execution-interruption" class="md-nav__link">
    <span class="md-ellipsis">
      Callbacks on cell execution interruption
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Callbacks on cell execution interruption">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_6" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callbacks-right-before-kernel-shutdown" class="md-nav__link">
    <span class="md-ellipsis">
      Callbacks right before kernel shutdown
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Callbacks right before kernel shutdown">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descriptor-api_5" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptor API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_7" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callbacks-on-color-scheme-change" class="md-nav__link">
    <span class="md-ellipsis">
      Callbacks on color scheme change
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Callbacks on color scheme change">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_8" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#results-renderers" class="md-nav__link">
    <span class="md-ellipsis">
      Results renderers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Results renderers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descriptor-api_6" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptor API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_9" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#results-text-renderers" class="md-nav__link">
    <span class="md-ellipsis">
      Results text renderers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Results text renderers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_10" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#throwables-renderers" class="md-nav__link">
    <span class="md-ellipsis">
      Throwables renderers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Throwables renderers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_11" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variables-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Variables handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Variables handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_12" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#annotated-classes-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Annotated classes handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Annotated classes handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_13" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-annotations-handling" class="md-nav__link">
    <span class="md-ellipsis">
      File annotations handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="File annotations handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_14" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-preprocessing" class="md-nav__link">
    <span class="md-ellipsis">
      Code preprocessing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Code preprocessing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_15" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#library-static-resources-loading" class="md-nav__link">
    <span class="md-ellipsis">
      Library static resources loading
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Library static resources loading">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_16" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variables-reporting" class="md-nav__link">
    <span class="md-ellipsis">
      Variables reporting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internal-variables-markers" class="md-nav__link">
    <span class="md-ellipsis">
      Internal variables markers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Internal variables markers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_17" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typename-rules-for-transitively-loaded-integration-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Typename rules for transitively loaded integration classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Typename rules for transitively loaded integration classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descriptor-api_7" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptor API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_18" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minimal-kernel-version-supported-by-the-library" class="md-nav__link">
    <span class="md-ellipsis">
      Minimal kernel version supported by the library
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Minimal kernel version supported by the library">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descriptor-api_8" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptor API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_19" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#library-options" class="md-nav__link">
    <span class="md-ellipsis">
      Library options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Library options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descriptor-api_9" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptor API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_20" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#link-to-the-library-site" class="md-nav__link">
    <span class="md-ellipsis">
      Link to the library site
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Link to the library site">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descriptor-api_10" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptor API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_21" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#library-description" class="md-nav__link">
    <span class="md-ellipsis">
      Library description
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Library description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descriptor-api_11" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptor API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyterintegration-api_22" class="md-nav__link">
    <span class="md-ellipsis">
      JupyterIntegration API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-library-descriptor" class="md-nav__link">
    <span class="md-ellipsis">
      Creating library descriptor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-using-kotlin-api" class="md-nav__link">
    <span class="md-ellipsis">
      Integration using Kotlin API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration using Kotlin API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-library-integration-using-ksp-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      Adding library integration using KSP plugin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-library-integration-avoiding-use-of-annotation-processor" class="md-nav__link">
    <span class="md-ellipsis">
      Adding library integration avoiding use of annotation processor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration-testing-for-the-integration-logic" class="md-nav__link">
    <span class="md-ellipsis">
      Integration testing for the integration logic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration-using-other-build-systems" class="md-nav__link">
    <span class="md-ellipsis">
      Integration using other build systems
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="adding-new-libraries">Adding new libraries</h1>
<!-- Start Document Outline -->

<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#supported-integration-features">Supported integration features</a><ul>
<li><a href="#dependencies">Dependencies</a><ul>
<li><a href="#descriptor-api">Descriptor API</a></li>
<li><a href="#jupyterintegration-api">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#repositories">Repositories</a><ul>
<li><a href="#descriptor-api-1">Descriptor API</a></li>
<li><a href="#jupyterintegration-api-1">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#initial-imports">Initial imports</a><ul>
<li><a href="#descriptor-api-2">Descriptor API</a></li>
<li><a href="#jupyterintegration-api-2">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#callbacks-after-library-loading-called-once">Callbacks after library loading (called once)</a><ul>
<li><a href="#descriptor-api-3">Descriptor API</a></li>
<li><a href="#jupyterintegration-api-3">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#callbacks-before-each-cell-execution">Callbacks before each cell execution</a><ul>
<li><a href="#descriptor-api-4">Descriptor API</a></li>
<li><a href="#jupyterintegration-api-4">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#callbacks-after-each-cell-execution">Callbacks after each cell execution</a><ul>
<li><a href="#jupyterintegration-api-5">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#callbacks-on-cell-execution-interruption">Callbacks on cell execution interruption</a><ul>
<li><a href="#jupyterintegration-api-6">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#callbacks-right-before-kernel-shutdown">Callbacks right before kernel shutdown</a><ul>
<li><a href="#descriptor-api-5">Descriptor API</a></li>
<li><a href="#jupyterintegration-api-7">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#callbacks-on-color-scheme-change">Callbacks on color scheme change</a><ul>
<li><a href="#jupyterintegration-api-8">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#results-renderers">Results renderers</a><ul>
<li><a href="#descriptor-api-6">Descriptor API</a></li>
<li><a href="#jupyterintegration-api-9">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#results-text-renderers">Results text renderers</a><ul>
<li><a href="#jupyterintegration-api-10">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#throwables-renderers">Throwables renderers</a><ul>
<li><a href="#jupyterintegration-api-11">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#variables-handling">Variables handling</a><ul>
<li><a href="#jupyterintegration-api-12">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#annotated-classes-handling">Annotated classes handling</a><ul>
<li><a href="#jupyterintegration-api-13">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#file-annotations-handling">File annotations handling</a><ul>
<li><a href="#jupyterintegration-api-14">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#code-preprocessing">Code preprocessing</a><ul>
<li><a href="#jupyterintegration-api-15">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#library-static-resources-loading">Library static resources loading</a><ul>
<li><a href="#jupyterintegration-api-16">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#variables-reporting">Variables reporting</a></li>
<li><a href="#internal-variables-markers">Internal variables markers</a><ul>
<li><a href="#jupyterintegration-api-17">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#typename-rules-for-transitively-loaded-integration-classes">Typename rules for transitively loaded integration classes</a><ul>
<li><a href="#descriptor-api-7">Descriptor API</a></li>
<li><a href="#jupyterintegration-api-18">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#minimal-kernel-version-supported-by-the-library">Minimal kernel version supported by the library</a><ul>
<li><a href="#descriptor-api-8">Descriptor API</a></li>
<li><a href="#jupyterintegration-api-19">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#library-options">Library options</a><ul>
<li><a href="#descriptor-api-9">Descriptor API</a></li>
<li><a href="#jupyterintegration-api-20">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#link-to-the-library-site">Link to the library site</a><ul>
<li><a href="#descriptor-api-10">Descriptor API</a></li>
<li><a href="#jupyterintegration-api-21">JupyterIntegration API</a></li>
</ul>
</li>
<li><a href="#library-description">Library description</a><ul>
<li><a href="#descriptor-api-11">Descriptor API</a></li>
<li><a href="#jupyterintegration-api-22">JupyterIntegration API</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#creating-library-descriptor">Creating library descriptor</a></li>
<li><a href="#integration-using-kotlin-api">Integration using Kotlin API</a><ul>
<li><a href="#adding-library-integration-using-ksp-plugin">Adding library integration using KSP plugin</a></li>
<li><a href="#adding-library-integration-avoiding-use-of-annotation-processor">Adding library integration avoiding use of annotation processor</a></li>
<li><a href="#integration-testing-for-the-integration-logic">Integration testing for the integration logic</a></li>
<li><a href="#integration-using-other-build-systems">Integration using other build systems</a></li>
</ul>
</li>
</ul>
<!-- End Document Outline -->

<h2 id="overview">Overview</h2>
<p>Generally, there are two ways of adding new library:
1. <a href="#Creating-library-descriptor">Creating JSON library descriptor</a>. It's easy-to-go solution that doesn't even
   require you to make any changes to the library itself. You create a JSON file and get the ability to define most
   frequently used features such as renderers and initial imports. This descriptor is loaded into notebook
   with help of <a href="../#supported-libraries"><code>%use</code> line magic</a>. Exact syntax depends on where the descriptor is located.
2. <a href="#Integration-using-Kotlin-API">Integration using Kotlin API</a>. Here, you define an integration class
   in your library code (or you can create a separate project for integration if it's a library you don't maintain).
   You can then use all available integration features in this case. Integration is loaded automatically when
   the JAR containing <code>META-INF/kotlin-jupyter-libraries/libraries.json</code> file with the integration class name in it
   is added to the current notebook classpath. It can be done with <code>@file:DependsOn</code> annotation or with help of
   descriptor (see above) that defines the corresponding dependency. Additionally, it is possible to write tests
   for this kind of integrations.</p>
<p>Library integrations regardless of the way they are defined may define dependencies
and some callbacks (code executions). Dependencies may contain Kotlin API based integrations, and code executions
may contain <code>%use</code> statements which means that library integrations may load other libraries, and so on. Don't
hesitate to rely on this feature.</p>
<p>Summing up, if you want to use a feature from the table below, you can do one of the following:</p>
<ol>
<li>If the feature is supported in descriptor API, you can create a JSON file containing this feature description as it is described below.
   This JSON file is then loaded into notebook via <code>%use</code> line magic.</li>
<li>If the feature is supported in descriptor API, you can load corresponding JSON string directly using
   <code>loadLibraryDescriptor</code> method inside notebook cell.</li>
<li>You can add the feature directly from the notebook cell using <code>USE {}</code> method and taking corresponding
   methods from "JupyterIntegration API" column, i.e.
    <div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">    </span><span class="n">import</span><span class="p">(</span><span class="s">&quot;my.awesome.Clazz&quot;</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></li>
<li>You can add the feature directly from the notebook cell if you have an instance of <code>LibraryDefinition</code> (that
   could be created i.e. using <code>libraryDefinition {}</code> method), using following syntax:
    <div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="n">USE</span><span class="p">(</span><span class="n">libraryDefinition</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></li>
<li>Inside a Kotlin JVM library, you can create a class implementing <code>LibraryDefinition</code> / <code>LibraryDefinitionProducer</code> in one of the following ways:<ul>
<li>Just create a direct implementor of <code>LibraryDefinition</code>. Override properties defined in "LibraryDefinition API" column</li>
<li>Extend <code>LibraryDefinitionImpl</code>. Set its properties defined in "LibraryDefinition API" column</li>
<li>Implement <code>JupyterIntegration</code>. <a href="#adding-library-integration-using-ksp-plugin">Override <code>Builder.onLoaded</code> method</a> and use methods from <code>JupyterIntegration API</code> column
  This class is to be loaded into notebook via <code>%use</code> command along with the whole library artifact. To let the notebook know about this class,
  you should adjust the build correspondingly. If you don't adjust the build, class will not be loaded, but you can
  still load this class from the notebook using <code>loadLibraryDefinitions()</code> or <code>loadLibraryProducers()</code> methods.</li>
</ul>
</li>
</ol>
<h2 id="supported-integration-features">Supported integration features</h2>
<p>All supported integration features are given in the following table. You can also learn the API using <a href="../samples/api-guide.ipynb">this interactive guide</a>.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Feature</th>
<th style="text-align: left;">Descriptor API</th>
<th style="text-align: left;">LibraryDefinition API</th>
<th>JupyterIntegration API</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><a href="#dependencies">Dependencies</a></td>
<td style="text-align: left;"><code>dependencies</code></td>
<td style="text-align: left;"><code>dependencies</code></td>
<td><code>dependencies()</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#repositories">Repositories</a></td>
<td style="text-align: left;"><code>repositories</code></td>
<td style="text-align: left;"><code>repositories</code></td>
<td><code>repositories()</code><br><code>addRepository()</code><br><code>repository()</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#initial-imports">Initial imports</a></td>
<td style="text-align: left;"><code>imports</code></td>
<td style="text-align: left;"><code>imports</code></td>
<td><code>import()</code><br><code>importPackage()</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#callbacks-after-library-loading-called-once">Callbacks after library loading (called once)</a></td>
<td style="text-align: left;"><code>init</code></td>
<td style="text-align: left;"><code>init</code></td>
<td><code>onLoaded{}</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#callbacks-before-each-cell-execution">Callbacks before each cell execution</a></td>
<td style="text-align: left;"><code>initCell</code></td>
<td style="text-align: left;"><code>initCell</code></td>
<td><code>beforeCellExecution{}</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#callbacks-after-each-cell-execution">Callbacks after each cell execution</a></td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"><code>afterCellExecution</code></td>
<td><code>afterCellExecution{}</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#callbacks-on-cell-execution-interruption">Callbacks on cell execution interruption</a></td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"><code>interruptionCallbacks</code></td>
<td><code>onInterrupt{}</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#callbacks-right-before-kernel-shutdown">Callbacks right before kernel shutdown</a></td>
<td style="text-align: left;"><code>shutdown</code></td>
<td style="text-align: left;"><code>shutdown</code></td>
<td><code>onShutdown{}</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#callbacks-on-color-scheme-change">Callbacks on color scheme change</a></td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"><code>colorSchemeChangedCallbacks</code></td>
<td><code>onColorSchemeChange{}</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#results-renderers">Results renderers</a></td>
<td style="text-align: left;"><code>renderers</code></td>
<td style="text-align: left;"><code>renderers</code></td>
<td><code>addRenderer()</code><br><code>render&lt;T&gt;{}</code><br><code>renderWithHost&lt;T&gt;{}</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#results-text-renderers">Results text renderers</a></td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"><code>textRenderers</code></td>
<td><code>addTextRenderer()</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#throwables-renderers">Throwables renderers</a></td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"><code>throwableRenderers</code></td>
<td><code>addThrowableRenderer()</code><br><code>renderThrowable&lt;T&gt;{}</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#variables-handling">Variables handling</a></td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"><code>converters</code></td>
<td><code>addTypeConverter()</code><br><code>onVariable{}</code><br><code>updateVariable{}</code><br><code>onVariableByRuntimeType{}</code><br><code>updateVariableByRuntimeType{}</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#annotated-classes-handling">Annotated classes handling</a></td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"><code>classAnnotations</code></td>
<td><code>addClassAnnotationHandler()</code><br><code>onClassAnnotation&lt;T&gt;{}</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#file-annotations-handling">File annotations handling</a></td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"><code>fileAnnotations</code></td>
<td><code>addFileAnnotationHanlder()</code><br><code>onFileAnnotation&lt;T&gt;{}</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#code-preprocessing">Code preprocessing</a></td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"><code>codePreprocessors</code></td>
<td><code>addCodePreprocessor()</code><br><code>preprocessCodeWithLibraries{}</code><br><code>preprocessCode{}</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#library-static-resources-loading">Library static resources loading</a></td>
<td style="text-align: left;"><code>resources</code></td>
<td style="text-align: left;"><code>resources</code></td>
<td><code>resource()</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#internal-variables-markers">Internal variables markers</a></td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"><code>internalVariablesMarkers</code></td>
<td><code>markVariableInternal()</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#typename-rules-for-transitively-loaded-integration-classes">Typename rules for transitively loaded integration classes</a></td>
<td style="text-align: left;"><code>integrationTypeNameRules</code></td>
<td style="text-align: left;"><code>integrationTypeNameRules</code></td>
<td><code>addIntegrationTypeNameRule()</code><br><code>acceptIntegrationTypeNameIf{}</code><br><code>discardIntegrationTypeNameIf{}</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#minimal-kernel-version-supported-by-the-library">Minimal kernel version supported by the library</a></td>
<td style="text-align: left;"><code>minKernelVersion</code></td>
<td style="text-align: left;"><code>minKernelVersion</code></td>
<td><code>setMinimalKernelVersion()</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#library-options">Library options</a></td>
<td style="text-align: left;"><code>properties</code></td>
<td style="text-align: left;"><code>options</code></td>
<td><code>addOption()</code><br><code>addOptions()</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#link-to-the-library-site">Link to the library site, used to generate README</a></td>
<td style="text-align: left;"><code>link</code></td>
<td style="text-align: left;"><code>website</code></td>
<td><code>setWebsite()</code></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#library-description">Library description, used to generate README</a></td>
<td style="text-align: left;"><code>description</code></td>
<td style="text-align: left;"><code>description</code></td>
<td><code>setDescription()</code></td>
</tr>
</tbody>
</table>
<h3 id="dependencies">Dependencies</h3>
<p>It doesn't matter what API you're using for adding dependencies, they are just Kotlin strings in the end.</p>
<p>These are strings describing notebook dependencies:
- Coordinates of Maven dependencies in form of <code>&lt;group&gt;:&lt;artifact&gt;:&lt;version&gt;</code>
- Absolute paths to the local JAR files
- Absolute paths to the local directories containing classes</p>
<p>Mind the following:
- <code>compile</code> and <code>runtime</code> scopes of dependencies are resolved transitively, but they all are added to
  both compile and runtime classpath. That's why you may see undesired variants offered in completion
- In Kotlin Notebook, sources of the dependencies are being resolved and included into response metadata.
  In other clients, they do not. To control this behavior, use <code>SessionOptions.resolveSources</code>
- MPP libraries are usually not resolved by Maven resolver. You should either use <code>jvm</code> variants of these
  artifacts or enable experimental multiplatform resolution with <code>SessionOptions.resolveMpp</code>
- To show current notebook classpath, use <code>:classpath</code> command</p>
<h4 id="descriptor-api">Descriptor API</h4>
<div class="language-json highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span>
<span class="normal"><a href="#__codelineno-2-4">4</a></span>
<span class="normal"><a href="#__codelineno-2-5">5</a></span>
<span class="normal"><a href="#__codelineno-2-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">  </span><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span><span class="s2">&quot;&lt;dependency1&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">    </span><span class="s2">&quot;&lt;dependency2&gt;&quot;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="jupyterintegration-api">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span>
<span class="normal"><a href="#__codelineno-3-5">5</a></span>
<span class="normal"><a href="#__codelineno-3-6">6</a></span>
<span class="normal"><a href="#__codelineno-3-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="n">dependencies</span><span class="p">(</span><span class="s">&quot;&lt;dependency1&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&lt;dependency2&gt;&quot;</span><span class="p">)</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="c1">// or</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">    </span><span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">        </span><span class="n">implememntation</span><span class="p">(</span><span class="s">&quot;&lt;dependency1&gt;&quot;</span><span class="p">)</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="repositories">Repositories</h3>
<p>Repositories are strings describing where the dependencies come from:
- Maven repositories (URLs + possible credentials)
- Local directories, relatively to which local dependencies are resolved</p>
<p>Maven repositories might have credentials.</p>
<h4 id="descriptor-api_1">Descriptor API</h4>
<div class="language-json highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="p">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="w">  </span><span class="nt">&quot;repositories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">    </span><span class="s2">&quot;&lt;repo1-url&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">      </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;repo2-url&gt;&quot;</span><span class="p">,</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">      </span><span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;auth-username&quot;</span><span class="p">,</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">      </span><span class="nt">&quot;password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;auth-token&quot;</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="jupyterintegration-api_1">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">    </span><span class="n">repositories</span><span class="p">(</span><span class="s">&quot;&lt;repo1&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&lt;repo2&gt;&quot;</span><span class="p">)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">    </span><span class="c1">// or</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">    </span><span class="n">repositories</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">        </span><span class="n">maven</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">            </span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&lt;repo1-url&gt;&quot;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">            </span><span class="n">credentials</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="w">                </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;auth-username&quot;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="w">                </span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;auth-token&quot;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="initial-imports">Initial imports</h3>
<p>Imports are just import declarations that are used by all the following cells.
They could be star-ended and usual</p>
<h4 id="descriptor-api_2">Descriptor API</h4>
<div class="language-json highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span>
<span class="normal"><a href="#__codelineno-6-5">5</a></span>
<span class="normal"><a href="#__codelineno-6-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="p">{</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">  </span><span class="nt">&quot;imports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">    </span><span class="s2">&quot;my.package.*&quot;</span><span class="p">,</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">    </span><span class="s2">&quot;my.package.Clazz&quot;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="jupyterintegration-api_2">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span>
<span class="normal"><a href="#__codelineno-7-4">4</a></span>
<span class="normal"><a href="#__codelineno-7-5">5</a></span>
<span class="normal"><a href="#__codelineno-7-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">    </span><span class="n">imports</span><span class="p">(</span><span class="s">&quot;my.package.*&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;my.package.Clazz&quot;</span><span class="p">)</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">    </span><span class="c1">// or</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">    </span><span class="n">import</span><span class="o">&lt;</span><span class="n">Clazz</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">    </span><span class="n">importPackage</span><span class="o">&lt;</span><span class="n">Clazz</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="callbacks-after-library-loading-called-once">Callbacks after library loading (called once)</h3>
<p>Code that is executed - and in case of descriptor API also compiled - right after library loading
In descriptor API codes are executed separately and not merged into one snippet</p>
<h4 id="descriptor-api_3">Descriptor API</h4>
<div class="language-json highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span>
<span class="normal"><a href="#__codelineno-8-5">5</a></span>
<span class="normal"><a href="#__codelineno-8-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="w">  </span><span class="nt">&quot;init&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">    </span><span class="s2">&quot;val x = 3&quot;</span><span class="p">,</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">    </span><span class="s2">&quot;%use dataframe&quot;</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="jupyterintegration-api_3">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span>
<span class="normal"><a href="#__codelineno-9-5">5</a></span>
<span class="normal"><a href="#__codelineno-9-6">6</a></span>
<span class="normal"><a href="#__codelineno-9-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">    </span><span class="n">onLoaded</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Integration loaded&quot;</span><span class="p">)</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">        </span><span class="c1">// Variable x will be visible inside the notebook</span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="w">        </span><span class="n">scheduleExecution</span><span class="p">(</span><span class="s">&quot;val x = 3&quot;</span><span class="p">)</span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="callbacks-before-each-cell-execution">Callbacks before each cell execution</h3>
<p>Code that is executed - and in case of descriptor API also compiled - right before each user-initiated cell execution
In descriptor API codes are executed separately and not merged into one snippet</p>
<h4 id="descriptor-api_4">Descriptor API</h4>
<div class="language-json highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span>
<span class="normal"><a href="#__codelineno-10-5">5</a></span>
<span class="normal"><a href="#__codelineno-10-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="p">{</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">  </span><span class="nt">&quot;initCell&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">    </span><span class="s2">&quot;val y = x + 1&quot;</span><span class="p">,</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">    </span><span class="s2">&quot;println(\&quot;abc\&quot;)&quot;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="jupyterintegration-api_4">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span>
<span class="normal"><a href="#__codelineno-11-4">4</a></span>
<span class="normal"><a href="#__codelineno-11-5">5</a></span>
<span class="normal"><a href="#__codelineno-11-6">6</a></span>
<span class="normal"><a href="#__codelineno-11-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="w">    </span><span class="n">beforeCellExecution</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Before cell execution&quot;</span><span class="p">)</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="w">        </span><span class="c1">// Variable x will be visible inside the notebook</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="w">        </span><span class="n">scheduleExecution</span><span class="p">(</span><span class="s">&quot;val x = 3&quot;</span><span class="p">)</span>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="callbacks-after-each-cell-execution">Callbacks after each cell execution</h3>
<p>Code that is executed right after each user-initiated cell execution.</p>
<h4 id="jupyterintegration-api_5">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span>
<span class="normal"><a href="#__codelineno-12-3">3</a></span>
<span class="normal"><a href="#__codelineno-12-4">4</a></span>
<span class="normal"><a href="#__codelineno-12-5">5</a></span>
<span class="normal"><a href="#__codelineno-12-6">6</a></span>
<span class="normal"><a href="#__codelineno-12-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">    </span><span class="n">afterCellExecution</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">snippetInstance</span><span class="p">,</span><span class="w"> </span><span class="n">resultField</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;After cell execution: </span><span class="si">${</span><span class="n">resultField</span><span class="p">.</span><span class="na">name</span><span class="si">}</span><span class="s"> = </span><span class="si">${</span><span class="n">resultField</span><span class="p">.</span><span class="na">value</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">        </span><span class="c1">// Variable x will be visible inside the notebook</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="w">        </span><span class="n">scheduleExecution</span><span class="p">(</span><span class="s">&quot;val x = 3&quot;</span><span class="p">)</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="callbacks-on-cell-execution-interruption">Callbacks on cell execution interruption</h3>
<p>Code that is executed when cell execution was interrupted by user.</p>
<h4 id="jupyterintegration-api_6">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span>
<span class="normal"><a href="#__codelineno-13-4">4</a></span>
<span class="normal"><a href="#__codelineno-13-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">    </span><span class="n">onInterrupt</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Execution was interrupted...&quot;</span><span class="p">)</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="callbacks-right-before-kernel-shutdown">Callbacks right before kernel shutdown</h3>
<p>Code that is executed when user initiated a kernel shutdown.</p>
<h4 id="descriptor-api_5">Descriptor API</h4>
<div class="language-json highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span>
<span class="normal"><a href="#__codelineno-14-3">3</a></span>
<span class="normal"><a href="#__codelineno-14-4">4</a></span>
<span class="normal"><a href="#__codelineno-14-5">5</a></span>
<span class="normal"><a href="#__codelineno-14-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="p">{</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w">  </span><span class="nt">&quot;shutdown&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="w">    </span><span class="s2">&quot;val y = x + 1&quot;</span><span class="p">,</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="w">    </span><span class="s2">&quot;println(\&quot;abc\&quot;)&quot;</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="jupyterintegration-api_7">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span>
<span class="normal"><a href="#__codelineno-15-4">4</a></span>
<span class="normal"><a href="#__codelineno-15-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="w">    </span><span class="n">onShutdown</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Bye!&quot;</span><span class="p">)</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="callbacks-on-color-scheme-change">Callbacks on color scheme change</h3>
<p>Code that is executed when the user changes color scheme in the IDE with the notebook opened and session started.
It doesn't work this way in the clients different from Kotlin Notebook, but it's safe to use in any client.</p>
<h4 id="jupyterintegration-api_8">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span>
<span class="normal"><a href="#__codelineno-16-5">5</a></span>
<span class="normal"><a href="#__codelineno-16-6">6</a></span>
<span class="normal"><a href="#__codelineno-16-7">7</a></span>
<span class="normal"><a href="#__codelineno-16-8">8</a></span>
<span class="normal"><a href="#__codelineno-16-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="kd">var</span><span class="w"> </span><span class="nv">isDark</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">notebook</span><span class="p">.</span><span class="na">currentColorScheme</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ColorScheme</span><span class="p">.</span><span class="na">DARK</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Dark? - </span><span class="si">$</span><span class="n">isDark</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="w">    </span><span class="n">onColorSchemeChange</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">colorScheme</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="w">        </span><span class="n">isDark</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">colorScheme</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ColorScheme</span><span class="p">.</span><span class="na">DARK</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Color scheme is changed&quot;</span><span class="p">)</span>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-16-9" name="__codelineno-16-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="results-renderers">Results renderers</h3>
<p>See <a href="https://github.com/Kotlin/kotlin-jupyter#rendering">information about rendering</a></p>
<h4 id="descriptor-api_6">Descriptor API</h4>
<div class="language-json highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span>
<span class="normal"><a href="#__codelineno-17-3">3</a></span>
<span class="normal"><a href="#__codelineno-17-4">4</a></span>
<span class="normal"><a href="#__codelineno-17-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="p">{</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="w">  </span><span class="nt">&quot;renderers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">    </span><span class="nt">&quot;org.jetbrains.letsPlot.intern.Plot&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;HTML(frontendContext.getHtml($it as org.jetbrains.letsPlot.intern.Plot))&quot;</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="jupyterintegration-api_9">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span>
<span class="normal"><a href="#__codelineno-18-3">3</a></span>
<span class="normal"><a href="#__codelineno-18-4">4</a></span>
<span class="normal"><a href="#__codelineno-18-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="w">    </span><span class="n">render</span><span class="o">&lt;</span><span class="n">Plot</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="w">        </span><span class="n">HTML</span><span class="p">(</span><span class="n">frontendContext</span><span class="p">.</span><span class="na">getHtml</span><span class="p">(</span><span class="nb">it</span><span class="p">))</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="results-text-renderers">Results text renderers</h3>
<p>See <a href="https://github.com/Kotlin/kotlin-jupyter#rendering">information about rendering</a></p>
<h4 id="jupyterintegration-api_10">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span>
<span class="normal"><a href="#__codelineno-19-2">2</a></span>
<span class="normal"><a href="#__codelineno-19-3">3</a></span>
<span class="normal"><a href="#__codelineno-19-4">4</a></span>
<span class="normal"><a href="#__codelineno-19-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="w">    </span><span class="n">addTextRenderer</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">processor</span><span class="p">,</span><span class="w"> </span><span class="n">table</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="w">        </span><span class="p">(</span><span class="n">table</span><span class="w"> </span><span class="k">as?</span><span class="w"> </span><span class="n">Table</span><span class="p">)</span><span class="o">?.</span><span class="na">let</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">frontendContext</span><span class="p">.</span><span class="na">getPlainText</span><span class="p">(</span><span class="nb">it</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="throwables-renderers">Throwables renderers</h3>
<p>See <a href="https://github.com/Kotlin/kotlin-jupyter#rendering">information about rendering</a></p>
<h4 id="jupyterintegration-api_11">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span>
<span class="normal"><a href="#__codelineno-20-2">2</a></span>
<span class="normal"><a href="#__codelineno-20-3">3</a></span>
<span class="normal"><a href="#__codelineno-20-4">4</a></span>
<span class="normal"><a href="#__codelineno-20-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="w">    </span><span class="n">renderThrowable</span><span class="o">&lt;</span><span class="n">NullPointerException</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">npe</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="w">        </span><span class="s">&quot;Isn&#39;t Kotlin null-safe?&quot;</span>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-20-5" name="__codelineno-20-5"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="variables-handling">Variables handling</h3>
<p><a href="https://github.com/Kotlin/kotlin-jupyter/blob/295bf977765b3a61b118edc4e6ac41d1d4fbb1f3/jupyter-lib/api/src/main/kotlin/org/jetbrains/kotlinx/jupyter/api/fieldsHandling.kt#L30">Variables handlers</a> are run for each applicable property of
executed snippets. They also give access to <code>KotlinKernelHost</code>, so it's possible to execute code there.
See corresponding methods documentation for more information.</p>
<h4 id="jupyterintegration-api_12">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-21-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-21-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-21-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-21-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-21-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-21-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-21-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-21-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-21-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="w">    </span><span class="n">updateVariable</span><span class="o">&lt;</span><span class="n">MyType</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">kProperty</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="w">        </span><span class="c1">// MyWrapper class should be previously defined in the notebook</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="w">        </span><span class="n">execute</span><span class="p">(</span><span class="s">&quot;MyWrapper(</span><span class="si">${</span><span class="n">kProperty</span><span class="p">.</span><span class="na">name</span><span class="si">}</span><span class="s">)&quot;</span><span class="p">).</span><span class="na">name</span>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a>
<a id="__codelineno-21-7" name="__codelineno-21-7"></a><span class="w">    </span><span class="n">onVariable</span><span class="o">&lt;</span><span class="n">MyType2</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">kProperty</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-21-8" name="__codelineno-21-8"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Variable </span><span class="si">${</span><span class="n">kProperty</span><span class="p">.</span><span class="na">name</span><span class="si">}</span><span class="s">=</span><span class="si">$</span><span class="n">value</span><span class="s"> executed!&quot;</span><span class="p">)</span>
<a id="__codelineno-21-9" name="__codelineno-21-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-21-10" name="__codelineno-21-10"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="annotated-classes-handling">Annotated classes handling</h3>
<p>If you have an annotation with runtime retention, you can mark a cell's class with this annotation,
and marked classes could be processed then. Annotations arguments are not available in this type of callback,
but this API should become more consistent in the future versions of kernel.</p>
<h4 id="jupyterintegration-api_13">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span>
<span class="normal"><a href="#__codelineno-22-2">2</a></span>
<span class="normal"><a href="#__codelineno-22-3">3</a></span>
<span class="normal"><a href="#__codelineno-22-4">4</a></span>
<span class="normal"><a href="#__codelineno-22-5">5</a></span>
<span class="normal"><a href="#__codelineno-22-6">6</a></span>
<span class="normal"><a href="#__codelineno-22-7">7</a></span>
<span class="normal"><a href="#__codelineno-22-8">8</a></span>
<span class="normal"><a href="#__codelineno-22-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="c1">// Should have runtime retention</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="kd">annotation</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">MyAnnotation</span>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="w">    </span><span class="n">onClassAnnotation</span><span class="o">&lt;</span><span class="n">MyAnnotation</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">classifiersList</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Annotated classes: </span><span class="si">$</span><span class="n">classifiersList</span><span class="s">&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="p">}</span>
<a id="__codelineno-22-7" name="__codelineno-22-7"></a>
<a id="__codelineno-22-8" name="__codelineno-22-8"></a><span class="nd">@MyAnnotation</span>
<a id="__codelineno-22-9" name="__codelineno-22-9"></a><span class="kd">class</span><span class="w"> </span><span class="nc">MyClass</span>
</code></pre></div></td></tr></table></div>
<h3 id="file-annotations-handling">File annotations handling</h3>
<p>You can add file-level annotations to the code snippets. Examples of such annotations are <code>@file:DependsOn()</code> and
<code>@file:Repository()</code> that are used by kernel to add dependencies to the notebook. In the callback you have
access to the annotation object and can access assigned annotation properties.</p>
<h4 id="jupyterintegration-api_14">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span>
<span class="normal"><a href="#__codelineno-23-2">2</a></span>
<span class="normal"><a href="#__codelineno-23-3">3</a></span>
<span class="normal"><a href="#__codelineno-23-4">4</a></span>
<span class="normal"><a href="#__codelineno-23-5">5</a></span>
<span class="normal"><a href="#__codelineno-23-6">6</a></span>
<span class="normal"><a href="#__codelineno-23-7">7</a></span>
<span class="normal"><a href="#__codelineno-23-8">8</a></span>
<span class="normal"><a href="#__codelineno-23-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="c1">// Might have any retention, but files should be valid target</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="kd">annotation</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">MyAnnotation</span>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="w">    </span><span class="n">onFileAnnotation</span><span class="o">&lt;</span><span class="n">MyAnnotation</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">myAnno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">first</span><span class="p">()</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MyAnnotation</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;My annotation object: </span><span class="si">$</span><span class="n">myAnno</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="code-preprocessing">Code preprocessing</h3>
<p>Code written by user could be amended in any way before execution. One of such transformations is magics preprocessing
that are cut off of the code and specifically processed. It's possible to write your own preprocessor: it gets the
code and should return amended code. Preprocessors are applied one after another depending on their priority and
order.</p>
<h4 id="jupyterintegration-api_15">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span>
<span class="normal"><a href="#__codelineno-24-2">2</a></span>
<span class="normal"><a href="#__codelineno-24-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="w">    </span><span class="n">preprocessCode</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">generateRunBlocking</span><span class="p">(</span><span class="n">code</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="library-static-resources-loading">Library static resources loading</h3>
<p>Static resources such as JS and CSS files could be used by the library producing any HTML. Generally,
some specific wrappers should be written to load resources correctly. You can do it yourself or let kernel
infrastructure doing it for you. Resource bundles builder DSL is defined and documented <a href="https://github.com/Kotlin/kotlin-jupyter/blob/master/jupyter-lib/api/src/main/kotlin/org/jetbrains/kotlinx/jupyter/api/libraries/resourceBuilders.kt#L11">here</a></p>
<h4 id="jupyterintegration-api_16">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span>
<span class="normal"><a href="#__codelineno-25-4">4</a></span>
<span class="normal"><a href="#__codelineno-25-5">5</a></span>
<span class="normal"><a href="#__codelineno-25-6">6</a></span>
<span class="normal"><a href="#__codelineno-25-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="w">    </span><span class="n">resources</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="w">        </span><span class="n">js</span><span class="p">(</span><span class="s">&quot;plotly&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-25-4" name="__codelineno-25-4"></a><span class="w">            </span><span class="c1">//...</span>
<a id="__codelineno-25-5" name="__codelineno-25-5"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-25-6" name="__codelineno-25-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-25-7" name="__codelineno-25-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="variables-reporting">Variables reporting</h3>
<p>You can see what variables have been defined in the notebook - either in plain text or in HTML form
<img alt="img.png" src="../images/varStateCompletion.png" /></p>
<h3 id="internal-variables-markers">Internal variables markers</h3>
<p>To ignore some variables in the variable report, mark these variables as internal</p>
<h4 id="jupyterintegration-api_17">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span>
<span class="normal"><a href="#__codelineno-26-2">2</a></span>
<span class="normal"><a href="#__codelineno-26-3">3</a></span>
<span class="normal"><a href="#__codelineno-26-4">4</a></span>
<span class="normal"><a href="#__codelineno-26-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="w">    </span><span class="n">markVariableInternal</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">prop</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="w">        </span><span class="n">prop</span><span class="p">.</span><span class="na">name</span><span class="p">.</span><span class="na">startsWith</span><span class="p">(</span><span class="s">&quot;_&quot;</span><span class="p">)</span>
<a id="__codelineno-26-4" name="__codelineno-26-4"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-26-5" name="__codelineno-26-5"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="typename-rules-for-transitively-loaded-integration-classes">Typename rules for transitively loaded integration classes</h3>
<p>As it was mentioned before, libraries can load other libraries transitively: either by executing <code>%use ...</code> as
a part of the initialization code or by including a dependency that contains an integration. By default, all
integration classes found in the dependencies, are loaded. But you can turn off loading of some integrations
by using typename rules for skipping them. At the same time, library can load its integration class forcefully
specifying "accepting" typename rule, so that even if typename is disabled by the loader library, corresponding
class will be loaded.</p>
<h4 id="descriptor-api_7">Descriptor API</h4>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span>
<span class="normal"><a href="#__codelineno-27-5">5</a></span>
<span class="normal"><a href="#__codelineno-27-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a>{
<a id="__codelineno-27-2" name="__codelineno-27-2"></a>  &quot;integrationTypeNameRules&quot;: [
<a id="__codelineno-27-3" name="__codelineno-27-3"></a>    &quot;-:org.jetbrains.kotlinx.dataframe.**&quot;,
<a id="__codelineno-27-4" name="__codelineno-27-4"></a>    //&quot;+:org.jetbrains.kotlinx.dataframe.**&quot;,
<a id="__codelineno-27-5" name="__codelineno-27-5"></a>  ]
<a id="__codelineno-27-6" name="__codelineno-27-6"></a>}
</code></pre></div></td></tr></table></div>
<h4 id="jupyterintegration-api_18">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span>
<span class="normal"><a href="#__codelineno-28-2">2</a></span>
<span class="normal"><a href="#__codelineno-28-3">3</a></span>
<span class="normal"><a href="#__codelineno-28-4">4</a></span>
<span class="normal"><a href="#__codelineno-28-5">5</a></span>
<span class="normal"><a href="#__codelineno-28-6">6</a></span>
<span class="normal"><a href="#__codelineno-28-7">7</a></span>
<span class="normal"><a href="#__codelineno-28-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="w">    </span><span class="n">discardIntegrationTypeNameIf</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="w">        </span><span class="nb">it</span><span class="p">.</span><span class="na">startsWith</span><span class="p">(</span><span class="s">&quot;org.jetbrains.kotlinx.dataframe.&quot;</span><span class="p">)</span>
<a id="__codelineno-28-4" name="__codelineno-28-4"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-5" name="__codelineno-28-5"></a><span class="w">    </span><span class="c1">//    acceptIntegrationTypeNameIf {</span>
<a id="__codelineno-28-6" name="__codelineno-28-6"></a><span class="w">    </span><span class="c1">//        it.startsWith(&quot;org.jetbrains.kotlinx.dataframe.&quot;)</span>
<a id="__codelineno-28-7" name="__codelineno-28-7"></a><span class="w">    </span><span class="c1">//    }</span>
<a id="__codelineno-28-8" name="__codelineno-28-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="minimal-kernel-version-supported-by-the-library">Minimal kernel version supported by the library</h3>
<p>You can define minimal kernel version that is supported by the library integration.
In <code>JupyterIntegration</code> API it's also possible to check <code>notebook.kernelVersion</code> in a way you want.</p>
<h4 id="descriptor-api_8">Descriptor API</h4>
<div class="language-json highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span>
<span class="normal"><a href="#__codelineno-29-2">2</a></span>
<span class="normal"><a href="#__codelineno-29-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="p">{</span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="w">  </span><span class="nt">&quot;minKernelVersion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.11.0.1&quot;</span>
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="jupyterintegration-api_19">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1">1</a></span>
<span class="normal"><a href="#__codelineno-30-2">2</a></span>
<span class="normal"><a href="#__codelineno-30-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="w">    </span><span class="n">setMinimalKernelVersion</span><span class="p">(</span><span class="s">&quot;0.11.0.1&quot;</span><span class="p">)</span>
<a id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="library-options">Library options</h3>
<p>Library options serve several goals:
 - extract some frequently updatable parts of the library descriptors (such as library versions)
 - assist Renovate GitHub app to update libraries versions
 - pass some values transitively in library loading so that libraries might know through what other libraries they were
 loaded</p>
<p><strong>Important! Give more unique names for the options of your library because these options could override some other options, and it may lead to unexpected quirks</strong></p>
<h4 id="descriptor-api_9">Descriptor API</h4>
<p>Options ending with <code>-renovate-hint</code> are ignored in descriptors and shouldn't be visible</p>
<div class="language-json highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span>
<span class="normal"><a href="#__codelineno-31-2">2</a></span>
<span class="normal"><a href="#__codelineno-31-3">3</a></span>
<span class="normal"><a href="#__codelineno-31-4">4</a></span>
<span class="normal"><a href="#__codelineno-31-5">5</a></span>
<span class="normal"><a href="#__codelineno-31-6">6</a></span>
<span class="normal"><a href="#__codelineno-31-7">7</a></span>
<span class="normal"><a href="#__codelineno-31-8">8</a></span>
<span class="normal"><a href="#__codelineno-31-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="p">{</span>
<a id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="w">  </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-31-3" name="__codelineno-31-3"></a><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;api&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4.4.1&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-31-4" name="__codelineno-31-4"></a><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;api-renovate-hint&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;update: package=org.jetbrains.lets-plot:lets-plot-kotlin-kernel&quot;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-31-5" name="__codelineno-31-5"></a><span class="w">  </span><span class="p">],</span>
<a id="__codelineno-31-6" name="__codelineno-31-6"></a><span class="w">  </span><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-31-7" name="__codelineno-31-7"></a><span class="w">    </span><span class="s2">&quot;org.company:library:$api&quot;</span>
<a id="__codelineno-31-8" name="__codelineno-31-8"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-31-9" name="__codelineno-31-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="jupyterintegration-api_20">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span>
<span class="normal"><a href="#__codelineno-32-3">3</a></span>
<span class="normal"><a href="#__codelineno-32-4">4</a></span>
<span class="normal"><a href="#__codelineno-32-5">5</a></span>
<span class="normal"><a href="#__codelineno-32-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="w">    </span><span class="c1">// Options in JupyterIntegration API could be only used when this library loads some other integration transitively,</span>
<a id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="w">    </span><span class="c1">// and integration class&#39; constructor has two arguments, second of which is of type `Map&lt;String, String&gt;`.</span>
<a id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="w">    </span><span class="c1">// All previously loaded options are put into the map and passed as an argument.</span>
<a id="__codelineno-32-5" name="__codelineno-32-5"></a><span class="w">    </span><span class="n">addOption</span><span class="p">(</span><span class="s">&quot;api&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;4.4.1&quot;</span><span class="p">)</span>
<a id="__codelineno-32-6" name="__codelineno-32-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="link-to-the-library-site">Link to the library site</h3>
<p>Library integration might have a link to the library's site.
They are embedded into the README and to the <code>:help</code> command, but only for descriptors.</p>
<h4 id="descriptor-api_10">Descriptor API</h4>
<div class="language-json highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1">1</a></span>
<span class="normal"><a href="#__codelineno-33-2">2</a></span>
<span class="normal"><a href="#__codelineno-33-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="p">{</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="w">  </span><span class="nt">&quot;link&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://github.com/Kotlin/kandy&quot;</span>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="jupyterintegration-api_21">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span>
<span class="normal"><a href="#__codelineno-34-2">2</a></span>
<span class="normal"><a href="#__codelineno-34-3">3</a></span>
<span class="normal"><a href="#__codelineno-34-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-2" name="__codelineno-34-2"></a><span class="w">    </span><span class="c1">// doesn&#39;t mean much, just for API completeness. Might be used in the future</span>
<a id="__codelineno-34-3" name="__codelineno-34-3"></a><span class="w">    </span><span class="n">setWebsite</span><span class="p">(</span><span class="s">&quot;https://github.com/Kotlin/kandy&quot;</span><span class="p">)</span>
<a id="__codelineno-34-4" name="__codelineno-34-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="library-description">Library description</h3>
<p>Library integration might have a description.
They are embedded into the README and to the <code>:help</code> command, but only for descriptors.</p>
<h4 id="descriptor-api_11">Descriptor API</h4>
<div class="language-json highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1">1</a></span>
<span class="normal"><a href="#__codelineno-35-2">2</a></span>
<span class="normal"><a href="#__codelineno-35-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="p">{</span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a><span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Kotlin plotting DSL for Lets-Plot&quot;</span>
<a id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="jupyterintegration-api_22">JupyterIntegration API</h4>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span>
<span class="normal"><a href="#__codelineno-36-2">2</a></span>
<span class="normal"><a href="#__codelineno-36-3">3</a></span>
<span class="normal"><a href="#__codelineno-36-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="n">USE</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-2" name="__codelineno-36-2"></a><span class="w">    </span><span class="c1">// doesn&#39;t mean much, just for API completeness. Might be used in the future</span>
<a id="__codelineno-36-3" name="__codelineno-36-3"></a><span class="w">    </span><span class="n">setDescription</span><span class="p">(</span><span class="s">&quot;Kotlin plotting DSL for Lets-Plot&quot;</span><span class="p">)</span>
<a id="__codelineno-36-4" name="__codelineno-36-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h2 id="creating-library-descriptor">Creating library descriptor</h2>
<p>To support new <code>JVM</code> library and make it available via <code>%use</code> magic command you need to create a library descriptor for it.</p>
<p>Check <a href="https://github.com/Kotlin/kotlin-jupyter-libraries">libraries</a> repository to see examples of library descriptors.</p>
<p>Library descriptor is a <code>&lt;libName&gt;.json</code> file with the following fields:
- <code>properties</code>: a dictionary of properties that are used within library descriptor
- <code>description</code>: a short library description which is used for generating libraries list in README
- <code>link</code>: a link to library homepage. This link will be displayed in <code>:help</code> command
- <code>minKernelVersion</code>: a minimal version of Kotlin kernel which may be used with this descriptor
- <code>repositories</code>: a list of maven or ivy repositories to search for dependencies
- <code>dependencies</code>: a list of library dependencies
- <code>imports</code>: a list of default imports for library
- <code>init</code>: a list of code snippets to be executed when library is included
- <code>initCell</code>: a list of code snippets to be executed before execution of any cell
- <code>shutdown</code>: a list of code snippets to be executed on kernel shutdown. Any cleanup code goes here
- <code>renderers</code>: a mapping from fully qualified names of types to be rendered to the Kotlin expression returning output value.
  Source object is referenced as <code>$it</code>
- <code>resources</code>: a list of JS/CSS resources. See <a href="../src/test/testData/lib-with-resources.json">this descriptor</a> for example
- <code>integrationTypeNameRules</code>: a list of rules for integration classes which are about to be loaded transitively. Each rule has the form <code>[+|-]:&lt;pattern&gt;</code> where <code>+</code> or <code>-</code> denotes if this pattern is accepted or declined. Pattern may consist of any characters. Special combinations are allowed: <code>?</code> (any single character or no character), <code>*</code> (any character sequence excluding dot), <code>**</code> (any character sequence).</p>
<p>*All fields are optional</p>
<p>For the most relevant specification see <code>org.jetbrains.kotlinx.jupyter.libraries.LibraryDescriptor</code> class.</p>
<p>Name of the file should have the <code>&lt;name&gt;.json</code> format where <code>&lt;name&gt;</code> is an argument for '%use' command</p>
<p>Library properties can be used in any parts of library descriptor as <code>$property</code></p>
<p>To register new library descriptor:
1. For private usage - create it anywhere on your computer and reference it using file syntax.
2. Alternative way for private usage - create descriptor in <code>.jupyter_kotlin/libraries</code> folder and reference
   it using "default" syntax
3. For sharing with community - commit it to <a href="https://github.com/Kotlin/kotlin-jupyter-libraries">libraries</a> repository and create pull request.</p>
<p>If you are maintaining some library and want to update your library descriptor, create pull request with your update.
After your request is accepted, new version of your library will be available to all Kotlin Jupyter users
immediately on next kernel startup (no kernel update is needed) - but only if they use <code>%useLatestDescriptors</code> magic.
If not, kernel update is needed.</p>
<h2 id="integration-using-kotlin-api">Integration using Kotlin API</h2>
<p>You may also add a Kotlin kernel integration to your library using a
<a href="https://plugins.gradle.org/plugin/org.jetbrains.kotlin.jupyter.api">Gradle plugin</a>.</p>
<p>In the following code snippets <code>&lt;jupyterApiVersion&gt;</code> is one of the published versions from the link above.
It is encouraged to use the latest stable version.</p>
<p>First, add the plugin dependency into your buildscript.</p>
<p>For <code>build.gradle</code>:
<div class="language-groovy highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1">1</a></span>
<span class="normal"><a href="#__codelineno-37-2">2</a></span>
<span class="normal"><a href="#__codelineno-37-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="n">plugins</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-37-2" name="__codelineno-37-2"></a><span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="s2">&quot;org.jetbrains.kotlin.jupyter.api&quot;</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s2">&quot;&lt;jupyterApiVersion&gt;&quot;</span>
<a id="__codelineno-37-3" name="__codelineno-37-3"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div></p>
<p>For <code>build.gradle.kts</code>:
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1">1</a></span>
<span class="normal"><a href="#__codelineno-38-2">2</a></span>
<span class="normal"><a href="#__codelineno-38-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="n">plugins</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-2" name="__codelineno-38-2"></a><span class="w">    </span><span class="n">kotlin</span><span class="p">(</span><span class="s">&quot;jupyter.api&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s">&quot;&lt;jupyterApiVersion&gt;&quot;</span>
<a id="__codelineno-38-3" name="__codelineno-38-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>This plugin adds following dependencies to your project:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Artifact</th>
<th style="text-align: left;">Gradle option to exclude/include</th>
<th style="text-align: left;">Enabled by default</th>
<th style="text-align: left;">Dependency scope</th>
<th style="text-align: left;">Method for adding dependency manually</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>kotlin-jupyter-api</code></td>
<td style="text-align: left;"><code>kotlin.jupyter.add.api</code></td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;"><code>compileOnly</code></td>
<td style="text-align: left;"><code>addApiDependency(version: String?)</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>kotlin-jupyter-api-annotations</code></td>
<td style="text-align: left;"><code>kotlin.jupyter.add.scanner</code></td>
<td style="text-align: left;">no</td>
<td style="text-align: left;"><code>compileOnly</code></td>
<td style="text-align: left;"><code>addScannerDependency(version: String?)</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>kotlin-jupyter-test-kit</code></td>
<td style="text-align: left;"><code>kotlin.jupyter.add.testkit</code></td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;"><code>testImplementation</code></td>
<td style="text-align: left;"><code>addTestKitDependency(version: String?)</code></td>
</tr>
</tbody>
</table>
<p>You may turn on / turn off the dependency with its default version (version of the plugin)
by setting corresponding Gradle option to <code>true</code> or <code>false</code>.
If the corresponding option is set to <code>false</code> (by default or in your setup), you still
can add it manually using the method from the table inside <code>kotlinJupyter</code> extension like that:</p>
<div class="language-groovy highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1">1</a></span>
<span class="normal"><a href="#__codelineno-39-2">2</a></span>
<span class="normal"><a href="#__codelineno-39-3">3</a></span>
<span class="normal"><a href="#__codelineno-39-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="n">kotlinJupyter</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a><span class="w">    </span><span class="n">addApiDependency</span><span class="o">()</span><span class="w"> </span><span class="c1">// Use default version</span>
<a id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="w">    </span><span class="n">addApiDependency</span><span class="o">(</span><span class="s2">&quot;0.10.0.1&quot;</span><span class="o">)</span><span class="w"> </span><span class="c1">// Use custom artifact version</span>
<a id="__codelineno-39-4" name="__codelineno-39-4"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="adding-library-integration-using-ksp-plugin">Adding library integration using KSP plugin</h3>
<p>If you are OK with using KSP, you can use annotations to mark integration classes.</p>
<p>First, enable <code>kotlin-jupyter-api-annotations</code> dependency by adding following line to your <code>gradle.properties</code>:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a>kotlin.jupyter.add.scanner = true
</code></pre></div></td></tr></table></div>
<p>Then, implement <code>org.jetbrains.kotlinx.jupyter.api.libraries.LibraryDefinitionProducer</code> or
<code>org.jetbrains.kotlinx.jupyter.api.libraries.LibraryDefinition</code> and mark implementation with
<code>JupyterLibrary</code> annotation:</p>
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-41-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-41-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-41-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-41-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-41-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-41-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-41-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-41-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-41-10">10</a></span>
<span class="normal"><a href="#__codelineno-41-11">11</a></span>
<span class="normal"><a href="#__codelineno-41-12">12</a></span>
<span class="normal"><a href="#__codelineno-41-13">13</a></span>
<span class="normal"><a href="#__codelineno-41-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="k">package</span><span class="w"> </span><span class="nn">org.my.lib</span>
<a id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="k">import</span><span class="w"> </span><span class="nn">org.jetbrains.kotlinx.jupyter.api.annotations.JupyterLibrary</span>
<a id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="k">import</span><span class="w"> </span><span class="nn">org.jetbrains.kotlinx.jupyter.api.*</span>
<a id="__codelineno-41-4" name="__codelineno-41-4"></a><span class="k">import</span><span class="w"> </span><span class="nn">org.jetbrains.kotlinx.jupyter.api.libraries.*</span>
<a id="__codelineno-41-5" name="__codelineno-41-5"></a>
<a id="__codelineno-41-6" name="__codelineno-41-6"></a><span class="nd">@JupyterLibrary</span>
<a id="__codelineno-41-7" name="__codelineno-41-7"></a><span class="kd">internal</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Integration</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">JupyterIntegration</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-8" name="__codelineno-41-8"></a>
<a id="__codelineno-41-9" name="__codelineno-41-9"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="n">Builder</span><span class="p">.</span><span class="nf">onLoaded</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-10" name="__codelineno-41-10"></a><span class="w">        </span><span class="n">render</span><span class="o">&lt;</span><span class="n">MyClass</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">HTML</span><span class="p">(</span><span class="nb">it</span><span class="p">.</span><span class="na">toHTML</span><span class="p">())</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-41-11" name="__codelineno-41-11"></a><span class="w">        </span><span class="n">import</span><span class="p">(</span><span class="s">&quot;org.my.lib.*&quot;</span><span class="p">)</span>
<a id="__codelineno-41-12" name="__codelineno-41-12"></a><span class="w">        </span><span class="n">import</span><span class="p">(</span><span class="s">&quot;org.my.lib.io.*&quot;</span><span class="p">)</span>
<a id="__codelineno-41-13" name="__codelineno-41-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-41-14" name="__codelineno-41-14"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>For more complicated example see <a href="https://github.com/Kotlin/dataframe/blob/master/core/src/main/kotlin/org/jetbrains/kotlinx/dataframe/jupyter/Integration.kt">integration of dataframe library</a>.</p>
<p>For a further information see docs for:
- <code>org.jetbrains.kotlinx.jupyter.api.libraries.JupyterIntegration</code>
- <code>org.jetbrains.kotlinx.jupyter.api.libraries.LibraryDefinitionProducer</code>
- <code>org.jetbrains.kotlinx.jupyter.api.libraries.LibraryDefinition</code></p>
<h3 id="adding-library-integration-avoiding-use-of-annotation-processor">Adding library integration avoiding use of annotation processor</h3>
<p>You may want not to use KSP plugin for implementations detection.
Then you may refer your implementations right in your buildscript. Note that
no checking for existence will be performed in this case.</p>
<p>The following example shows how to refer aforementioned <code>Integration</code> class in your buildscript.
Obviously, in this case you shouldn't mark it with <code>JupyterLibrary</code> annotation.</p>
<p>For <code>build.gradle</code>:
<div class="language-groovy highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1">1</a></span>
<span class="normal"><a href="#__codelineno-42-2">2</a></span>
<span class="normal"><a href="#__codelineno-42-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="n">processJupyterApiResources</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-42-2" name="__codelineno-42-2"></a><span class="w">    </span><span class="n">libraryProducers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s2">&quot;org.my.lib.Integration&quot;</span><span class="o">]</span>
<a id="__codelineno-42-3" name="__codelineno-42-3"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div></p>
<p>For <code>build.gradle.kts</code>:
<div class="language-kotlin highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1">1</a></span>
<span class="normal"><a href="#__codelineno-43-2">2</a></span>
<span class="normal"><a href="#__codelineno-43-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a><span class="n">tasks</span><span class="p">.</span><span class="na">processJupyterApiResources</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-43-2" name="__codelineno-43-2"></a><span class="w">    </span><span class="n">libraryProducers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span><span class="s">&quot;org.my.lib.Integration&quot;</span><span class="p">)</span>
<a id="__codelineno-43-3" name="__codelineno-43-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="integration-testing-for-the-integration-logic">Integration testing for the integration logic</h3>
<p>You may want to automatically check if your library integrates correctly into kernel. To achieve this, inherit your
test class from <code>org.jetbrains.kotlinx.jupyter.testkit.JupyterReplTestCase</code> and use its methods to execute cells.
Your library integration descriptors should be already on classpath and will be loaded automatically by the test logic,
you don't need to use <code>%use</code> magic or <code>DependsOn</code> annotation to switch on your library. But you may use magics and
annotations for other purposes, as usual.</p>
<p>The artifact containing test templates is included automatically into <code>testImplementation</code> configuration if you
use the Gradle plugin. You may turn this behavior off by setting <code>kotlin.jupyter.add.testkit</code> Gradle property
to <code>false</code>. If you want to include this artifact into your build manually, you'll find the instructions
<a href="https://search.maven.org/artifact/org.jetbrains.kotlinx/kotlin-jupyter-test-kit">here</a>.</p>
<p>For the examples of integration testing see <code>org.jetbrains.kotlinx.jupyter.testkit.test.JupyterReplTestingTest</code> in
this repository or <a href="https://github.com/Kotlin/dataframe/tree/master/src/test/kotlin/org/jetbrains/dataframe/jupyter">related tests in DataFrame</a>.</p>
<h3 id="integration-using-other-build-systems">Integration using other build systems</h3>
<p>If you don't use Gradle as a build system, there is an alternative way.</p>
<p>First, add <code>org.jetbrains.kotlinx:kotlin-jupyter-api:&lt;jupyterApiVersion&gt;</code> as
a compile dependency. See configuration instructions for different build systems
<a href="https://search.maven.org/artifact/org.jetbrains.kotlinx/kotlin-jupyter-api/0.9.0-17/jar">here</a></p>
<p>Then add one or more integration classes. They may be derived from
<code>LibraryDefinitionProducer</code> or from <code>LibraryDefinition</code> as described above.
Note that you don't need <code>@JupyterLibrary</code> annotation in this scenario.</p>
<p>Finally, add file <code>META-INF/kotlin-jupyter-libraries/libraries.json</code> to the JAR
resources. This file should contain FQNs of all integration classes in the JSON form:
<div class="language-json highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1">1</a></span>
<span class="normal"><a href="#__codelineno-44-2">2</a></span>
<span class="normal"><a href="#__codelineno-44-3">3</a></span>
<span class="normal"><a href="#__codelineno-44-4">4</a></span>
<span class="normal"><a href="#__codelineno-44-5">5</a></span>
<span class="normal"><a href="#__codelineno-44-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="p">{</span>
<a id="__codelineno-44-2" name="__codelineno-44-2"></a><span class="w">  </span><span class="nt">&quot;definitions&quot;</span><span class="p">:[],</span>
<a id="__codelineno-44-3" name="__codelineno-44-3"></a><span class="w">  </span><span class="nt">&quot;producers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-44-4" name="__codelineno-44-4"></a><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;fqn&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;org.jetbrains.kotlinx.jupyter.example.GettingStartedIntegration&quot;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-44-5" name="__codelineno-44-5"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-44-6" name="__codelineno-44-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
Classes derived from <code>LibraryDefinition</code> should be added to the <code>definitions</code> array.
Classes derived from <code>LibraryDefinitionProducer</code> should be added to the <code>producers</code> array.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.path", "navigation.tabs", "navigation.tracking", "search.suggest"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../../javascript/katex.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
      
        <script src="../../../js/open_in_new_tab.js"></script>
      
    
  </body>
</html>